{"segments": [{"Time_Start": 0.0, "Time_End": 17.0, "Text": " Why are we here?"}, {"Time_Start": 17.0, "Time_End": 18.0, "Text": " Why are we here?"}, {"Time_Start": 18.0, "Time_End": 20.0, "Text": " It's hot."}, {"Time_Start": 20.0, "Time_End": 25.0, "Text": " Exactly."}, {"Time_Start": 25.0, "Time_End": 29.0, "Text": " Next year we actually will probably have black hat in the desert itself."}, {"Time_Start": 29.0, "Time_End": 32.0, "Text": " Or where am I?"}, {"Time_Start": 32.0, "Time_End": 33.0, "Text": " DefCon, thank you."}, {"Time_Start": 33.0, "Time_End": 35.0, "Text": " I'm here all week."}, {"Time_Start": 35.0, "Time_End": 39.0, "Text": " All right, nobody look."}, {"Time_Start": 39.0, "Time_End": 48.0, "Text": " That's really what it is too."}, {"Time_Start": 48.0, "Time_End": 51.0, "Text": " No, not quite."}, {"Time_Start": 51.0, "Time_End": 55.0, "Text": " Hi, my name is Timothy Mullen."}, {"Time_Start": 55.0, "Time_End": 58.0, "Text": " In certain dark circles, I go by Thor."}, {"Time_Start": 58.0, "Time_End": 65.0, "Text": " by Thor from the Hammer of God security site. We do all kinds of neat stuff."}, {"Time_Start": 65.0, "Time_End": 74.0, "Text": " In my spare time, I like to mess around with Windows security and drink white Russians"}, {"Time_Start": 74.0, "Time_End": 79.0, "Text": " and consume other people's expired prescriptions."}, {"Time_Start": 79.0, "Time_End": 84.0, "Text": " I'm just kidding. I really don't know anything about Windows security."}, {"Time_Start": 88.0, "Time_End": 90.0, "Text": " I don't know why I tell you people this."}, {"Time_Start": 90.0, "Time_End": 93.0, "Text": " It's because I have nothing to do while my laptop boots up."}, {"Time_Start": 95.0, "Time_End": 96.0, "Text": " Oh, you were there yesterday."}, {"Time_Start": 96.0, "Time_End": 98.0, "Text": " No pictures of my wife."}, {"Time_Start": 102.0, "Time_End": 105.0, "Text": " You know, this is a little off topic, you know, talking about drugs and alcohol."}, {"Time_Start": 105.0, "Time_End": 109.0, "Text": " But why an alcoholic's anonymous?"}, {"Time_Start": 109.0, "Time_End": 114.0, "Text": " Why do they call it that when the first thing you do is get up and tell everybody who you are?"}, {"Time_Start": 114.0, "Time_End": 117.0, "Text": " Microsoft must have designed that step."}, {"Time_Start": 117.0, "Time_End": 117.5, "Text": " that step."}, {"Time_Start": 118.0, "Time_End": 119.0, "Text": " You know?"}, {"Time_Start": 120.0, "Time_End": 121.0, "Text": " I just don't get it."}, {"Time_Start": 121.0, "Time_End": 122.0, "Text": " Okay."}, {"Time_Start": 122.0, "Time_End": 125.0, "Text": " We're going to talk about some neat stuff today."}, {"Time_Start": 125.0, "Time_End": 127.0, "Text": " I think it's pretty cool."}, {"Time_Start": 127.0, "Time_End": 136.0, "Text": " If my laptop is a nice boy today and the curse of David Litchfield doesn't descend upon me,"}, {"Time_Start": 136.0, "Time_End": 139.0, "Text": " we'll be able to do some really cool stuff."}, {"Time_Start": 139.0, "Time_End": 143.0, "Text": " If it does behave poorly, I'll spank it in front of you all,"}, {"Time_Start": 143.0, "Time_End": 146.0, "Text": " but we'll still get a pretty good indication of how this thing works."}, {"Time_Start": 146.0, "Time_End": 148.0, "Text": " works. Let me just flip this thing around."}, {"Time_Start": 148.0, "Time_End": 150.0, "Text": " The curse of David Litchfield."}, {"Time_Start": 150.0, "Time_End": 153.0, "Text": " Anybody seen him speak before?"}, {"Time_Start": 153.0, "Time_End": 155.0, "Text": " Ah, great, good speaker."}, {"Time_Start": 155.0, "Time_End": 158.0, "Text": " Anyone ever seen his equipment work?"}, {"Time_Start": 158.0, "Time_End": 162.0, "Text": " I don't know why. He's a genius."}, {"Time_Start": 162.0, "Time_End": 164.0, "Text": " He works at that state, absolutely."}, {"Time_Start": 164.0, "Time_End": 166.0, "Text": " I think he's a phenomenon, right?"}, {"Time_Start": 166.0, "Time_End": 169.0, "Text": " But his stuff always breaks."}, {"Time_Start": 169.0, "Time_End": 175.0, "Text": " This exploit, well, exploitable condition, I should call it,"}, {"Time_Start": 175.0, "Time_End": 179.0, "Text": " kind of came out of an argument David and I were having in Hong Kong."}, {"Time_Start": 179.0, "Time_End": 184.0, "Text": " So just him being involved with it has made my laptop blow up."}, {"Time_Start": 184.0, "Time_End": 190.0, "Text": " I've already reinstalled windows on it once."}, {"Time_Start": 190.0, "Time_End": 192.0, "Text": " Okay."}, {"Time_Start": 192.0, "Time_End": 194.0, "Text": " So the..."}, {"Time_Start": 194.0, "Time_End": 196.0, "Text": " Thank God."}, {"Time_Start": 196.0, "Time_End": 200.0, "Text": " I thought the fan was going haywire over there."}, {"Time_Start": 200.0, "Time_End": 202.0, "Text": " It's about to suck me in."}, {"Time_Start": 202.0, "Time_End": 204.0, "Text": " Well, I watched this."}, {"Time_Start": 204.0, "Time_End": 208.0, "Text": " Well, I watched the sell last night on video, so I was..."}, {"Time_Start": 208.0, "Time_End": 210.0, "Text": " Okay."}, {"Time_Start": 210.0, "Time_End": 220.0, "Text": " The main goal here is to kind of show you guys some issues that we have with some new DB libraries."}, {"Time_Start": 220.0, "Time_End": 226.0, "Text": " In SQL Server 2000, and this isn't a server exploit."}, {"Time_Start": 226.0, "Time_End": 230.0, "Text": " It is a client exploit, but I'm just going to give you some background here."}, {"Time_Start": 230.0, "Time_End": 233.0, "Text": " SQL 2000, which I think is kind of a cool product,"}, {"Time_Start": 233.0, "Time_End": 240.0, "Text": " product has some new functions. On the client side, we get this guy called DB,"}, {"Time_Start": 240.0, "Time_End": 247.0, "Text": " Netlib, DLL, and he supports TCPIP connections, encryption built into them, authentication,"}, {"Time_Start": 247.0, "Time_End": 254.94, "Text": " all kinds of neat stuff. It's also the default library on workstations that have the SQL"}, {"Time_Start": 254.94, "Time_End": 262.8, "Text": " 2000 client utilities installed. So when you install your SQL Server 2000 client, that"}, {"Time_Start": 262.8, "Time_End": 268.8, "Text": " guy gets installed on there by default. Also MSDE. So one should note, was anyone"}, {"Time_Start": 268.8, "Time_End": 271.8, "Text": " at Black Hat and saw Chip Andrews deal? Anyone?"}, {"Time_Start": 271.8, "Time_End": 280.8, "Text": " Bueller? Anyone? He was talking about a lot of third-party apps that use MSDE for their engine,"}, {"Time_Start": 280.8, "Time_End": 288.8, "Text": " right? So there's probably a plethora of those guys that would also install DBNetlib on your box."}, {"Time_Start": 292.8, "Time_End": 299.56, "Text": " A little background, SQL 7 supported TCPIP, of course."}, {"Time_Start": 299.56, "Time_End": 302.48, "Text": " But you had to use mixed mode authentication."}, {"Time_Start": 302.48, "Time_End": 308.52000000000004, "Text": " In other words, if you were using integrated authentication, two modes to SQL server, right?"}, {"Time_Start": 308.52000000000004, "Time_End": 311.8, "Text": " You have integrated authentication, mixed mode authentication."}, {"Time_Start": 311.8, "Time_End": 317.96000000000004, "Text": " Integrated is where everyone who's logging into your site has been authenticated by a domain controller,"}, {"Time_Start": 317.96000000000004, "Time_End": 322.36, "Text": " previously to logging into the SQL server, and it uses that username and password,"}, {"Time_Start": 322.36, "Time_End": 327.86, "Text": " passes it right on via NTLM. Mix mode is where you supply it. All the users are based on"}, {"Time_Start": 327.86, "Time_End": 332.78000000000003, "Text": " SQL server itself and you just supply it, username and password at log on, regardless of who your"}, {"Time_Start": 332.78000000000003, "Time_End": 339.24, "Text": " security context is at the time, right? Not your local context. So if you wanted to use this integrated"}, {"Time_Start": 339.24, "Time_End": 345.54, "Text": " authentication, you had to use name pipes, where you had your whack-wack server, SQL pipe, whatever"}, {"Time_Start": 345.54, "Time_End": 352.14, "Text": " it was. Now, that means 139 and 445 are open, right? Because this is an internal"}, {"Time_Start": 352.14, "Time_End": 357.14, "Text": " network and they're open anyway. But you weren't really doing this over the internet, right?"}, {"Time_Start": 357.14, "Time_End": 359.14, "Text": " Who's doing 139 over the internet, please?"}, {"Time_Start": 359.14, "Time_End": 376.14, "Text": " There have been a lot of different exploits surrounding SQL server, most of which have counted on you"}, {"Time_Start": 376.14, "Time_End": 382.12, "Text": " using the mixed mode authentication. Stuff like the open row set."}, {"Time_Start": 382.14, "Time_End": 388.74, "Text": " directive where you could execute code on the box and system context and all that stuff."}, {"Time_Start": 388.74, "Time_End": 394.14, "Text": " So integrated authentication's always been recommended by Microsoft and all the configurations."}, {"Time_Start": 394.14, "Time_End": 396.14, "Text": " Use integrated. Use integrated."}, {"Time_Start": 396.14, "Time_End": 400.14, "Text": " Because of the security involved there."}, {"Time_Start": 400.14, "Time_End": 407.14, "Text": " 139 and 445 have always been blocked at the router, right? All your firewall people block this."}, {"Time_Start": 407.14, "Time_End": 411.14, "Text": " If not, they're yum yums. I mean, anybody has 139."}, {"Time_Start": 411.14, "Time_End": 419.14, "Text": " 139 open to the internet. I mean, those are the people that the flight attendants have to explain how to open the buckle of the seat belt, right?"}, {"Time_Start": 419.14, "Time_End": 427.14, "Text": " I mean, somebody, somebody burned to death going, oh my God, okay, you know, so they have to explain that to them."}, {"Time_Start": 427.14, "Time_End": 430.14, "Text": " This is the same thing. I mean, this is opening the buckle on your seatbelt."}, {"Time_Start": 430.14, "Time_End": 434.14, "Text": " If you have 139 and 445 open, you're crazy."}, {"Time_Start": 434.14, "Time_End": 441.12, "Text": " Many server to server apps, my wedding ring is in my pocket. I completely went"}, {"Time_Start": 441.14, "Time_End": 454.14, "Text": " to the Bahamas on that when I took my rings off to wash my hands and I didn't put them back in and I noticed it was gone and I was like in that two seconds realized my wife was going to kill me back to the conference."}, {"Time_Start": 454.14, "Time_End": 461.14, "Text": " So many server to server apps authenticate over 1433 because it's safe, right?"}, {"Time_Start": 461.14, "Time_End": 470.14, "Text": " So if you've got your server on your internet and you've got another server somewhere else, they're going to do server to server communication, they're going to do some opening queries, you're going to authenticate that traffic and open up."}, {"Time_Start": 470.14, "Time_End": 477.14, "Text": " that traffic and open up 1433. That's crazy. So here's the deal."}, {"Time_Start": 477.14, "Time_End": 484.14, "Text": " DB Netlib now directly supports integrated authentication over 1433."}, {"Time_Start": 484.14, "Time_End": 494.14, "Text": " You can send out your NTLM credentials over 1433 now. You can send out your NTLM credentials over 1433 now."}, {"Time_Start": 494.14, "Time_End": 500.12, "Text": " I mean, you need to understand what we're saying here. We're just getting to the point that people"}, {"Time_Start": 500.14, "Time_End": 505.14, "Text": " realized to block out 139, 445, so as this doesn't, we're just getting there."}, {"Time_Start": 505.14, "Time_End": 515.14, "Text": " Now all of a sudden, we open up the possibility of a high port that has actual business use can now support this."}, {"Time_Start": 515.14, "Time_End": 522.14, "Text": " So that end of itself isn't necessarily a big deal."}, {"Time_Start": 522.14, "Time_End": 529.14, "Text": " The problem, as we already said, is 1433 outbound, is typically free to pass. In fact, I've seen a lot of routers."}, {"Time_Start": 529.14, "Time_End": 535.1999999999999, "Text": " I've seen a lot of router configurations where established traffic, no matter what it is,"}, {"Time_Start": 535.1999999999999, "Time_End": 538.74, "Text": " is free to pass, but then they'll block it if it is 139 to 445, right?"}, {"Time_Start": 538.74, "Time_End": 542.6999999999999, "Text": " You have your denies, which is also kind of nuts."}, {"Time_Start": 542.6999999999999, "Time_End": 547.4399999999999, "Text": " So let's just kind of look at what happens here."}, {"Time_Start": 547.4399999999999, "Time_End": 556.36, "Text": " A client-side ODBC connection string, by its nature, gives the developer the opportunity"}, {"Time_Start": 556.36, "Time_End": 559.12, "Text": " to set the server authentication."}, {"Time_Start": 559.14, "Time_End": 589.12, "Text": " type and library, right? Connection string server equals this, trusted security equals this, network library equals this. So as a developer, I can set that stuff up. Well, a website can put a client side script or HTML email that opens up record sets or ActiveX objects, things of that nature. The problem is if it's my website, I'm the one who decides what goes in that connection string. So here's a lame example."}, {"Time_Start": 589.14, "Time_End": 600.14, "Text": " In my script, I do a new active X object. I mean, and people have active X scripting sometimes turned off."}, {"Time_Start": 600.14, "Time_End": 605.14, "Text": " Not everyone, but you should. That's why it's lame."}, {"Time_Start": 605.14, "Time_End": 613.14, "Text": " So we say connection string, provider, SQL ODB, Integrate security, persist security, info, false, initial catalog, blah, blah, blah, blah."}, {"Time_Start": 613.14, "Time_End": 617.14, "Text": " You give the data source and right here, you specify DB netlib."}, {"Time_Start": 617.14, "Time_End": 626.14, "Text": " So when you go and execute this site or execute this page and this object is instantiated,"}, {"Time_Start": 626.14, "Time_End": 631.14, "Text": " I'm specifically designating DBNetlib and integrated security."}, {"Time_Start": 631.14, "Time_End": 642.14, "Text": " So what's going to happen is your client is going to deliver its NTLM credentials right to my box over port 1433."}, {"Time_Start": 642.14, "Time_End": 646.14, "Text": " It's crazy. All right, so let's see if I can make this happen in the client."}, {"Time_Start": 646.14, "Time_End": 648.14, "Text": " in real life here."}, {"Time_Start": 655.14, "Time_End": 664.14, "Text": " As I said, I had to redo my whole configuration, and I was all stressed that something was not going to work right."}, {"Time_Start": 664.14, "Time_End": 666.14, "Text": " Litchfield and all."}, {"Time_Start": 666.14, "Time_End": 672.14, "Text": " And it was in a big hurry. I actually had to fly home."}, {"Time_Start": 672.14, "Time_End": 675.14, "Text": " Yes, last night, Vegas to Reno was my first."}, {"Time_Start": 675.14, "Time_End": 677.14, "Text": " The biggest to Reno was my flight."}, {"Time_Start": 677.14, "Time_End": 681.14, "Text": " Now close your eyes and imagine the people on that plane."}, {"Time_Start": 681.14, "Time_End": 686.14, "Text": " I would like a ticket from bad to worse, please."}, {"Time_Start": 690.14, "Time_End": 692.14, "Text": " I'm here all week."}, {"Time_Start": 692.14, "Time_End": 697.14, "Text": " Okay, so now I need to go into VMware."}, {"Time_Start": 697.14, "Time_End": 703.14, "Text": " I normally have these guys powered up and ready to go."}, {"Time_Start": 703.14, "Time_End": 706.14, "Text": " I want to have some cool VMware stuff to give away."}, {"Time_Start": 706.14, "Time_End": 711.14, "Text": " So I'll ask some stupid question or the best insult somebody can give me."}, {"Time_Start": 711.14, "Time_End": 713.14, "Text": " You'll get a hat and a shirt."}, {"Time_Start": 713.14, "Time_End": 715.14, "Text": " Well, but not right now."}, {"Time_Start": 715.14, "Time_End": 717.14, "Text": " So I'm going to power this guy on."}, {"Time_Start": 717.14, "Time_End": 719.14, "Text": " VMware is actually kind of cool."}, {"Time_Start": 719.14, "Time_End": 722.14, "Text": " It allows you to..."}, {"Time_Start": 722.14, "Time_End": 725.14, "Text": " Well, that's just my CD-ROM."}, {"Time_Start": 725.14, "Time_End": 726.14, "Text": " That wasn't VMware's problem."}, {"Time_Start": 726.14, "Time_End": 727.14, "Text": " That's my problem."}, {"Time_Start": 727.14, "Time_End": 730.14, "Text": " It allows you to instantiate your own little boxes"}, {"Time_Start": 730.14, "Time_End": 732.14, "Text": " on your inside of your other active window."}, {"Time_Start": 732.14, "Time_End": 733.14, "Text": " Network."}, {"Time_Start": 733.14, "Time_End": 735.14, "Text": " connections, everything."}, {"Time_Start": 735.14, "Time_End": 738.14, "Text": " So I'm actually starting a Windows 2000 session in here."}, {"Time_Start": 738.14, "Time_End": 743.14, "Text": " He's going to be my client, and my active session is my evil server."}, {"Time_Start": 743.14, "Time_End": 744.14, "Text": " Sure."}, {"Time_Start": 744.14, "Time_End": 747.14, "Text": " Was that a question or a stretch?"}, {"Time_Start": 747.14, "Time_End": 749.14, "Text": " Okay."}, {"Time_Start": 753.14, "Time_End": 757.14, "Text": " And I'm restarting it because the last time that I did it,"}, {"Time_Start": 757.14, "Time_End": 760.14, "Text": " this guy only has 256 mega RAM."}, {"Time_Start": 760.14, "Time_End": 762.14, "Text": " I tried to get somebody to let me borrow their box, but"}, {"Time_Start": 762.14, "Time_End": 766.14, "Text": " box, but nobody trusts me for some strange reason."}, {"Time_Start": 766.14, "Time_End": 770.14, "Text": " I mean, even buddies, like, oh, fear. I'm like, let me hold your box."}, {"Time_Start": 770.14, "Time_End": 771.14, "Text": " Hell no."}, {"Time_Start": 771.14, "Time_End": 777.14, "Text": " Okay. Give me just a second."}, {"Time_Start": 777.14, "Time_End": 783.14, "Text": " See, this is where pictures of my wife would come in handy, right?"}, {"Time_Start": 783.14, "Time_End": 788.14, "Text": " Hey, hey."}, {"Time_Start": 788.14, "Time_End": 799.14, "Text": " Yeah."}, {"Time_Start": 799.14, "Time_End": 803.14, "Text": " The guy with the VMware hat is the one who said that."}, {"Time_Start": 803.14, "Time_End": 806.14, "Text": " Exactly."}, {"Time_Start": 806.14, "Time_End": 809.14, "Text": " What?"}, {"Time_Start": 809.14, "Time_End": 813.14, "Text": " Oh, he said, he asked if I wanted some."}, {"Time_Start": 813.14, "Time_End": 816.14, "Text": " Pictures of my wife."}, {"Time_Start": 816.14, "Time_End": 821.14, "Text": " As if he had them."}, {"Time_Start": 821.14, "Time_End": 824.14, "Text": " Just in case you weren't with me there."}, {"Time_Start": 824.14, "Time_End": 826.14, "Text": " I do that every time."}, {"Time_Start": 826.14, "Time_End": 831.14, "Text": " Okay. Don't look."}, {"Time_Start": 831.14, "Time_End": 836.14, "Text": " I don't trust."}, {"Time_Start": 836.14, "Time_End": 842.14, "Text": " I don't trust any of you people."}, {"Time_Start": 842.14, "Time_End": 845.14, "Text": " I don't trust any of you people."}, {"Time_Start": 845.14, "Time_End": 849.14, "Text": " Okay."}, {"Time_Start": 849.14, "Time_End": 852.14, "Text": " Boy, it'd be nice if this works."}, {"Time_Start": 852.14, "Time_End": 855.14, "Text": " Otherwise, you'll just have to trust me."}, {"Time_Start": 855.14, "Time_End": 857.14, "Text": " Who trusts me?"}, {"Time_Start": 857.14, "Time_End": 858.14, "Text": " Okay."}, {"Time_Start": 858.14, "Time_End": 861.14, "Text": " Everybody else, I guess, can just go."}, {"Time_Start": 861.14, "Time_End": 863.14, "Text": " Okay."}, {"Time_Start": 863.14, "Time_End": 865.14, "Text": " Okay."}, {"Time_Start": 865.14, "Time_End": 871.14, "Text": " I'm going to give this session a minute to get its act together."}, {"Time_Start": 871.14, "Time_End": 881.14, "Text": " He lives in a real small window on this box, so, and it's kind of hard to see."}, {"Time_Start": 881.14, "Time_End": 885.14, "Text": " But what it says where the little hand is is, buy crap."}, {"Time_Start": 885.14, "Time_End": 890.14, "Text": " So I'm just kind of walking somebody through, and this really isn't on my sight."}, {"Time_Start": 890.14, "Time_End": 892.14, "Text": " Just come to my site."}, {"Time_Start": 892.14, "Time_End": 894.14, "Text": " I won't grab your credentials."}, {"Time_Start": 894.14, "Time_End": 899.14, "Text": " Okay."}, {"Time_Start": 899.14, "Time_End": 900.14, "Text": " So I've got my little ADO DBO."}, {"Time_Start": 900.14, "Time_End": 901.14, "Text": " Okay."}, {"Time_Start": 901.14, "Time_End": 908.14, "Text": " example here. Let me get my PowerPoint slide up here. Hello. Come back to me."}, {"Time_Start": 912.14, "Time_End": 919.14, "Text": " Okay. So I already had the code on that guy. So you saw that."}, {"Time_Start": 923.14, "Time_End": 930.7, "Text": " Okay. So I'm going to get my sniffer going to get my sniffer going here. And I did this in black. I did this in black. I'm"}, {"Time_Start": 930.7, "Time_End": 936.36, "Text": " I actually showed people this the first time, showed anybody this for the first time."}, {"Time_Start": 936.36, "Time_End": 942.4000000000001, "Text": " I'm still getting my English down. At Black Hat, and a couple of people asked if I have like"}, {"Time_Start": 942.4000000000001, "Time_End": 948.4000000000001, "Text": " a full-blown exploit and kind of why I'm using network monitor to show you this. Well, that's"}, {"Time_Start": 948.4000000000001, "Time_End": 958.3000000000001, "Text": " not my, my gig's not to write a bunch of exploit code. I want to illustrate that stuff can be done."}, {"Time_Start": 958.3000000000001, "Time_End": 959.7, "Text": " I'll give you proof of concept."}, {"Time_Start": 959.7, "Time_End": 965.7, "Text": " my real reason for sharing all this is so you people can protect yourselves,"}, {"Time_Start": 965.7, "Time_End": 968.7, "Text": " not so you can go out there and pack everybody up, right?"}, {"Time_Start": 968.7, "Time_End": 971.7, "Text": " I have to say that. The Fed is here."}, {"Time_Start": 975.7, "Time_End": 979.7, "Text": " All right, so I'm going to start a little network capture."}, {"Time_Start": 979.7, "Time_End": 985.7, "Text": " Now this is an ADODB example, so we all know that this is kind of lame."}, {"Time_Start": 985.7, "Time_End": 989.7, "Text": " Because you don't have scripting turned on typically."}, {"Time_Start": 989.7, "Time_End": 991.7, "Text": " But this is what bothers me."}, {"Time_Start": 991.7, "Time_End": 997.7, "Text": " This page is accessing a data source from another domain."}, {"Time_Start": 997.7, "Time_End": 999.7, "Text": " Do you want to allow this?"}, {"Time_Start": 999.7, "Time_End": 1001.7, "Text": " That doesn't tell us anything."}, {"Time_Start": 1001.7, "Time_End": 1004.7, "Text": " We want to access data in another domain."}, {"Time_Start": 1004.7, "Time_End": 1006.7, "Text": " That's why we're doing this."}, {"Time_Start": 1006.7, "Time_End": 1012.7, "Text": " So it'd be very easy for anyone to assume that yes is right."}, {"Time_Start": 1012.7, "Time_End": 1014.7, "Text": " It's also the default."}, {"Time_Start": 1014.7, "Time_End": 1016.7, "Text": " So when you hit enter, it's going to,"}, {"Time_Start": 1016.7, "Time_End": 1019.6800000000001, "Text": " what's going to happen now is when I hit enter, it's going to instantiate that"}, {"Time_Start": 1019.7, "Time_End": 1025.7, "Text": " DB connection object. And if I wanted to engineer around it, I could say, you know,"}, {"Time_Start": 1025.7, "Time_End": 1031.7, "Text": " security settings may or you, may require you to validate, blah, blah, blah."}, {"Time_Start": 1031.7, "Time_End": 1035.7, "Text": " So I'm going to say yes."}, {"Time_Start": 1035.7, "Time_End": 1041.7, "Text": " If it times out, we'll know we're hose, but I can work around that."}, {"Time_Start": 1041.7, "Time_End": 1043.7, "Text": " I think it's going to time out again."}, {"Time_Start": 1049.7, "Time_End": 1056.7, "Text": " Yep, it timed out. But that's okay. I can still illustrate my point right here."}, {"Time_Start": 1056.7, "Time_End": 1064.7, "Text": " I'm going to go down my network monitor a little bit here."}, {"Time_Start": 1064.7, "Time_End": 1070.7, "Text": " Where was it? Maybe it was up here."}, {"Time_Start": 1070.7, "Time_End": 1088.7, "Text": " up here. So this is where, and I don't know how easy it is for you guys to see, but thankfully it's kind of highlighted in black."}, {"Time_Start": 1088.7, "Time_End": 1097.7, "Text": " You'll see the destination port is 1433. Now, I'm the server in this case. So what's happening is"}, {"Time_Start": 1097.7, "Time_End": 1116.7, "Text": " client chose a high port over 1026 destined for 1433. In many cases, this call would have gone right out of your firewall, right? I mean, who's blocking outbound 1433 at the egress? Not a lot of people are."}, {"Time_Start": 1116.7, "Time_End": 1124.7, "Text": " So the thing to realize here, and I'll show you where it makes the call for the SQL server if I don't fall over on those steps."}, {"Time_Start": 1127.7, "Time_End": 1138.7, "Text": " And that's it. That's it coming back. The source is now 1433 from mine going back"}, {"Time_Start": 1138.7, "Time_End": 1144.7, "Text": " going back down to that guy. Now, if my SQL Server service and my active client was really listening,"}, {"Time_Start": 1144.7, "Time_End": 1157.3400000000001, "Text": " they even went home and tested it again, but it's kind of hit and miss with my VMware, you would actually see the NTLM SSP"}, {"Time_Start": 1157.34, "Time_End": 1165.54, "Text": " being referenced here, the username, actually the domain and username are actually"}, {"Time_Start": 1165.54, "Time_End": 1173.32, "Text": " passed in clear text here. It's not even base 64. You'd see that going down there and then I get my hash"}, {"Time_Start": 1173.32, "Time_End": 1178.76, "Text": " right in this data stream here. Who's familiar with Dill Dogs exploit on the Telnet server deal"}, {"Time_Start": 1178.76, "Time_End": 1187.32, "Text": " with the NTLM hash being passed out? Right. If you want to get a good breakdown on what the"}, {"Time_Start": 1187.34, "Time_End": 1192.78, "Text": " actual packet construction is, then go to the at stake website. I've got a copy"}, {"Time_Start": 1192.78, "Time_End": 1197.6599999999999, "Text": " of it in my bag as well if anybody wants the URL, and they give you the entire package structure"}, {"Time_Start": 1197.6599999999999, "Time_End": 1205.8, "Text": " so you can see. A little anti-clamact, somebody help me out, anti-climactic without being able"}, {"Time_Start": 1205.8, "Time_End": 1216.86, "Text": " to see the hash because my box messed up on me. But like I said, this page is accessing a data source."}, {"Time_Start": 1216.8600000000001, "Time_End": 1222.88, "Text": " There's another one that's kind of bad. And I don't want to linger too much on the client side."}, {"Time_Start": 1223.0000000000002, "Time_End": 1232.98, "Text": " Really, what you need to know is that your credentials can now be blown out of 1433. That's what I really want to focus on here."}, {"Time_Start": 1233.3000000000002, "Time_End": 1243.38, "Text": " But here's a couple of neat ones. Part of the installation of those client side tools is a couple of new active X controls that are safe for scripting by default."}, {"Time_Start": 1244.22, "Time_End": 1245.5800000000002, "Text": " And that's a bad thing."}, {"Time_Start": 1246.8600000000001, "Time_End": 1251.8600000000001, "Text": " One of them is this SQL namespace ActiveX control."}, {"Time_Start": 1251.8600000000001, "Time_End": 1254.8600000000001, "Text": " And this is all client side stuff."}, {"Time_Start": 1254.8600000000001, "Time_End": 1260.8600000000001, "Text": " What that guy's designed to do is to interrogate a SQL server and get a list of all the objects."}, {"Time_Start": 1260.8600000000001, "Time_End": 1265.8600000000001, "Text": " Kind of like if you wanted to build your own enterprise manager, your own code,"}, {"Time_Start": 1265.8600000000001, "Time_End": 1268.8600000000001, "Text": " you could use this ActiveX control to do that."}, {"Time_Start": 1268.8600000000001, "Time_End": 1272.8600000000001, "Text": " Well, the problem here is that it's completely silent."}, {"Time_Start": 1272.8600000000001, "Time_End": 1275.8600000000001, "Text": " I could go to, let's talk about that first."}, {"Time_Start": 1275.8600000000001, "Time_End": 1278.1000000000001, "Text": " Let's talk about that for a second."}, {"Time_Start": 1278.1000000000001, "Time_End": 1282.6200000000001, "Text": " How do we acquire a target for this kind of stuff?"}, {"Time_Start": 1282.6200000000001, "Time_End": 1285.64, "Text": " SQL 2,000 news groups."}, {"Time_Start": 1285.64, "Time_End": 1294.3400000000001, "Text": " You can go to one SQL 2,000 news group and in a day probably get 250 email addresses of people"}, {"Time_Start": 1294.3400000000001, "Time_End": 1299.5000000000002, "Text": " posting questions that you know have the client loaded."}, {"Time_Start": 1299.5000000000002, "Time_End": 1301.7, "Text": " Send him an email."}, {"Time_Start": 1301.7, "Time_End": 1303.6200000000001, "Text": " Put this guy in here."}, {"Time_Start": 1303.6200000000001, "Time_End": 1304.6200000000001, "Text": " Set your server."}, {"Time_Start": 1304.6200000000001, "Time_End": 1305.6200000000001, "Text": " Snit me."}, {"Time_Start": 1305.8600000000001, "Time_End": 1308.6200000000001, "Text": " if they're traffic and you get all their credentials."}, {"Time_Start": 1308.6200000000001, "Time_End": 1316.72, "Text": " You could use that to, if you wanted to do like an S&B relay on the guys, you could do that."}, {"Time_Start": 1316.72, "Time_End": 1319.48, "Text": " You could take it offline and crack it."}, {"Time_Start": 1319.48, "Time_End": 1321.0200000000002, "Text": " It's in LM hash, right?"}, {"Time_Start": 1321.0200000000002, "Time_End": 1326.6200000000001, "Text": " So it's not like it's going to crack in two seconds, but you could crack it in three months."}, {"Time_Start": 1326.6200000000001, "Time_End": 1330.3000000000002, "Text": " So if I got several of your administrative, and that's the other thing."}, {"Time_Start": 1330.3000000000002, "Time_End": 1335.42, "Text": " Your database administrators are typically administrators on that box."}, {"Time_Start": 1335.42, "Time_End": 1338.98, "Text": " if not domain administrators, right?"}, {"Time_Start": 1338.98, "Time_End": 1344.66, "Text": " There's some value to getting those credentials."}, {"Time_Start": 1344.66, "Time_End": 1349.54, "Text": " If I crack them offline, not only do I have your own credentials, I know I have credentials to your"}, {"Time_Start": 1349.54, "Time_End": 1352.04, "Text": " SQL server."}, {"Time_Start": 1352.04, "Time_End": 1354.14, "Text": " There's a lot of neat stuff that you can do."}, {"Time_Start": 1354.14, "Time_End": 1356.0800000000002, "Text": " So let's take a look at this guy."}, {"Time_Start": 1356.0800000000002, "Time_End": 1361.04, "Text": " What am I doing?"}, {"Time_Start": 1361.04, "Time_End": 1363.8000000000002, "Text": " Ah!"}, {"Time_Start": 1363.8000000000002, "Time_End": 1365.04, "Text": " My brain locked up for a moment."}, {"Time_Start": 1365.04, "Time_End": 1372.04, "Text": " Okay, no, I don't want to debug."}, {"Time_Start": 1372.04, "Time_End": 1375.04, "Text": " So I'm going to go back here."}, {"Time_Start": 1375.04, "Time_End": 1384.04, "Text": " Underneath here, where I have clicked the spinning head of Hermod, I feel, well, it might not time out."}, {"Time_Start": 1384.04, "Time_End": 1385.04, "Text": " It's hit and miss."}, {"Time_Start": 1385.04, "Time_End": 1388.04, "Text": " So I'm just going to start my trace again, just in case."}, {"Time_Start": 1388.04, "Time_End": 1394.04, "Text": " Next time I'll bring a couple of times."}, {"Time_Start": 1394.04, "Time_End": 1395.02, "Text": " Next time I'll bring a couple of times."}, {"Time_Start": 1395.04, "Time_End": 1399.04, "Text": " a couple of laptops, just so I don't have to mess around with all of this."}, {"Time_Start": 1399.04, "Time_End": 1403.04, "Text": " Okay, so I'm doing it."}, {"Time_Start": 1403.04, "Time_End": 1413.04, "Text": " When I click on that guy, since that object is marked safe for scripting, and I will say,"}, {"Time_Start": 1413.04, "Time_End": 1417.04, "Text": " there is a service pack 1 for SQL 2000."}, {"Time_Start": 1417.04, "Time_End": 1425.02, "Text": " I brought this up to Microsoft a month a so ago, and wanted to make sure that they had a service pack in the works for"}, {"Time_Start": 1425.04, "Time_End": 1427.04, "Text": " I said anything about it, right?"}, {"Time_Start": 1427.04, "Time_End": 1429.04, "Text": " I know, full disclosure, blah, blah, blah."}, {"Time_Start": 1429.04, "Time_End": 1432.04, "Text": " It's my vulnerability, I'll do what I want with it."}, {"Time_Start": 1432.04, "Time_End": 1436.04, "Text": " So they did come out with a service pack."}, {"Time_Start": 1436.04, "Time_End": 1442.04, "Text": " The problem is that who takes the service pack for SQL server and loads it on their clients?"}, {"Time_Start": 1442.04, "Time_End": 1444.04, "Text": " Nobody."}, {"Time_Start": 1444.04, "Time_End": 1447.04, "Text": " So it doesn't do anything."}, {"Time_Start": 1447.04, "Time_End": 1451.04, "Text": " All your clients still have, you notice all it did with, it gave me the timeout"}, {"Time_Start": 1451.04, "Time_End": 1454.04, "Text": " because the VMware session is not talking to the other guy."}, {"Time_Start": 1454.04, "Time_End": 1455.04, "Text": " But in the same manner,"}, {"Time_Start": 1455.04, "Time_End": 1459.04, "Text": " we'll see how it tries to open up."}, {"Time_Start": 1463.04, "Time_End": 1465.04, "Text": " No, that's not it."}, {"Time_Start": 1465.04, "Time_End": 1467.04, "Text": " That was doing the web page."}, {"Time_Start": 1471.04, "Time_End": 1473.04, "Text": " You see, ooh, maybe it did it."}, {"Time_Start": 1485.04, "Time_End": 1486.54, "Text": " I think it timed out again."}, {"Time_Start": 1486.54, "Time_End": 1489.04, "Text": " But you'll see it's the same thing."}, {"Time_Start": 1489.04, "Time_End": 1493.04, "Text": " The destination port, 139 doesn't even come into play here."}, {"Time_Start": 1493.04, "Time_End": 1495.04, "Text": " The destination port's 1433."}, {"Time_Start": 1495.04, "Time_End": 1499.04, "Text": " You wouldn't have even known that that happened."}, {"Time_Start": 1503.04, "Time_End": 1505.04, "Text": " I really wish that I had to come."}, {"Time_Start": 1505.04, "Time_End": 1506.04, "Text": " Does anybody?"}, {"Time_Start": 1506.04, "Time_End": 1507.04, "Text": " No."}, {"Time_Start": 1511.04, "Time_End": 1513.04, "Text": " I really wouldn't do anything to your computer."}, {"Time_Start": 1513.04, "Time_End": 1523.04, "Text": " Do you have the SQL client on that guy?"}, {"Time_Start": 1523.04, "Time_End": 1525.04, "Text": " No?"}, {"Time_Start": 1525.04, "Time_End": 1529.04, "Text": " If you want to ask, I mean, this is..."}, {"Time_Start": 1529.04, "Time_End": 1531.04, "Text": " Okay."}, {"Time_Start": 1531.04, "Time_End": 1532.04, "Text": " Well, I appreciate it."}, {"Time_Start": 1532.04, "Time_End": 1535.04, "Text": " I'd have to load the SQL client on him."}, {"Time_Start": 1535.04, "Time_End": 1540.04, "Text": " It's there."}, {"Time_Start": 1540.04, "Time_End": 1542.04, "Text": " The only thing that we didn't see is the word."}, {"Time_Start": 1542.04, "Time_End": 1544.04, "Text": " is the word NTLM."}, {"Time_Start": 1544.04, "Time_End": 1547.04, "Text": " If anybody's really interested in seeing that,"}, {"Time_Start": 1547.04, "Time_End": 1550.04, "Text": " you're all going to go do this at home anyway, right?"}, {"Time_Start": 1550.04, "Time_End": 1552.04, "Text": " So you'll see,"}, {"Time_Start": 1552.04, "Time_End": 1558.04, "Text": " you'll see that the other problems here"}, {"Time_Start": 1558.04, "Time_End": 1560.04, "Text": " are a couple of other active X controls,"}, {"Time_Start": 1560.04, "Time_End": 1562.04, "Text": " SQL distribution, and the merge control,"}, {"Time_Start": 1562.04, "Time_End": 1564.04, "Text": " and they're all scriptable,"}, {"Time_Start": 1564.04, "Time_End": 1568.04, "Text": " right from IE, and they're all marked safe for scripting."}, {"Time_Start": 1568.04, "Time_End": 1570.04, "Text": " So that's where you can"}, {"Time_Start": 1570.04, "Time_End": 1575.04, "Text": " and grab the CREDS for fun and profit."}, {"Time_Start": 1575.04, "Time_End": 1577.04, "Text": " And then I already did my live demo,"}, {"Time_Start": 1577.04, "Time_End": 1579.04, "Text": " and I wonder if I have any."}, {"Time_Start": 1579.04, "Time_End": 1583.04, "Text": " I was going to, I wanted to talk about kind of how to stop this."}, {"Time_Start": 1583.04, "Time_End": 1588.04, "Text": " From the active X control standpoint,"}, {"Time_Start": 1588.04, "Time_End": 1590.04, "Text": " there's a couple of things that you can do."}, {"Time_Start": 1590.04, "Time_End": 1593.04, "Text": " I'm an advocate of group policy."}, {"Time_Start": 1593.04, "Time_End": 1597.04, "Text": " The Windows 2000 group policy manager."}, {"Time_Start": 1597.04, "Time_End": 1599.04, "Text": " It's really powerful."}, {"Time_Start": 1599.04, "Time_End": 1600.04, "Text": " In a domain."}, {"Time_Start": 1600.04, "Time_End": 1604.04, "Text": " environment, you can set up a group policy that will"}, {"Time_Start": 1604.04, "Time_End": 1607.04, "Text": " automatically go out to all of your servers and workstations,"}, {"Time_Start": 1607.04, "Time_End": 1611.04, "Text": " and you can set options like this for I.E."}, {"Time_Start": 1611.04, "Time_End": 1612.04, "Text": " and security options."}, {"Time_Start": 1612.04, "Time_End": 1616.04, "Text": " So you can disable stuff that's marked safe for scripting."}, {"Time_Start": 1616.04, "Time_End": 1619.04, "Text": " You probably haven't now, but you might want to do that."}, {"Time_Start": 1619.04, "Time_End": 1625.04, "Text": " You can set your systems not to ever access"}, {"Time_Start": 1625.04, "Time_End": 1627.04, "Text": " data sources in another domain."}, {"Time_Start": 1627.04, "Time_End": 1629.04, "Text": " That's also a smart thing to do."}, {"Time_Start": 1629.04, "Time_End": 1635.84, "Text": " do. However, be careful because, you know, I'm not the brightest crayon in the box."}, {"Time_Start": 1635.84, "Time_End": 1640.84, "Text": " So there's going to be other people, you know, Georgi Gazzinski and people who really know what they're"}, {"Time_Start": 1640.84, "Time_End": 1648.28, "Text": " doing, who are going to find ways of instantiating objects on your client that push your credentials"}, {"Time_Start": 1648.28, "Time_End": 1650.28, "Text": " out 1423."}, {"Time_Start": 1650.28, "Time_End": 1658.96, "Text": " So have a talk with your firewall people, show them if you need to, and lock down that"}, {"Time_Start": 1659.04, "Time_End": 1663.04, "Text": " egress. Don't let 1433 go out unless you have to."}, {"Time_Start": 1663.04, "Time_End": 1668.04, "Text": " In large B2B environments, it might be something that has to be done."}, {"Time_Start": 1668.04, "Time_End": 1672.04, "Text": " And they'll say, well, all the traffic's encrypted on that channel, so it doesn't matter."}, {"Time_Start": 1672.04, "Time_End": 1674.04, "Text": " But it does matter because the ports open."}, {"Time_Start": 1674.04, "Time_End": 1679.04, "Text": " So if they're going to do that, make sure that they lock it down, host to host."}, {"Time_Start": 1679.04, "Time_End": 1680.04, "Text": " Right?"}, {"Time_Start": 1680.04, "Time_End": 1686.04, "Text": " If you can, keep people, you know, only let out what you have to let out."}, {"Time_Start": 1686.04, "Time_End": 1688.04, "Text": " And that's the danger here."}, {"Time_Start": 1688.04, "Time_End": 1695.04, "Text": " here. So, other than applying the service packs to your workstations, use strong"}, {"Time_Start": 1695.04, "Time_End": 1702.04, "Text": " passwords, use group policy, there's really not a whole lot we can do about this right now."}, {"Time_Start": 1702.04, "Time_End": 1712.04, "Text": " And I think once people start using this guy, it's probably going to spread like a fart in an airplane,"}, {"Time_Start": 1712.04, "Time_End": 1717.04, "Text": " you know? I mean, it's going to be, pardon me, ladies and gentlemen, if that of, whoa, a third"}, {"Time_Start": 1717.04, "Time_End": 1718.84, "Text": " offended you on that one."}, {"Time_Start": 1719.34, "Time_End": 1722.8, "Text": " So are there any questions about how this can be used if it matters?"}, {"Time_Start": 1722.92, "Time_End": 1723.6, "Text": " Do you care?"}, {"Time_Start": 1724.24, "Time_End": 1724.8, "Text": " Blah, blah, blah."}, {"Time_Start": 1724.8799999999999, "Time_End": 1725.12, "Text": " Anybody?"}, {"Time_Start": 1725.72, "Time_End": 1726.1399999999999, "Text": " Yes, sir."}, {"Time_Start": 1729.72, "Time_End": 1732.42, "Text": " Yeah, I actually, I'll put some more slides."}, {"Time_Start": 1732.8, "Time_End": 1735.56, "Text": " I'll put those HTMLs up at Hammer God right now."}, {"Time_Start": 1735.6, "Time_End": 1737.44, "Text": " I've been here, so I haven't been able to do it."}, {"Time_Start": 1737.84, "Time_End": 1740.44, "Text": " But it's the Hammer of God website."}, {"Time_Start": 1740.84, "Time_End": 1742.36, "Text": " The top one's my real life."}, {"Time_Start": 1742.36, "Time_End": 1745.22, "Text": " I design business accounting software."}, {"Time_Start": 1745.22, "Time_End": 1751.34, "Text": " It's actually cool stuff, but it's nowhere near as fun."}, {"Time_Start": 1751.72, "Time_End": 1752.68, "Text": " This Hammer of God."}, {"Time_Start": 1753.52, "Time_End": 1755.98, "Text": " So go to the Hammer God website."}, {"Time_Start": 1756.34, "Time_End": 1759.5, "Text": " I've got some other tools up there for enumeration and stuff like that."}, {"Time_Start": 1759.54, "Time_End": 1760.6200000000001, "Text": " Well, I talked about that yesterday."}, {"Time_Start": 1763.24, "Time_End": 1765.3, "Text": " So these slides will be there."}, {"Time_Start": 1766.44, "Time_End": 1773.0, "Text": " I've actually gotten some requests to write and exploit for this,"}, {"Time_Start": 1773.0, "Time_End": 1774.96, "Text": " and I just, I don't think I'm going to do that."}, {"Time_Start": 1775.22, "Time_End": 1780.96, "Text": " It's tempting, but, I mean, I think I, you know, you illustrate it and you tell people to protect themselves,"}, {"Time_Start": 1781.16, "Time_End": 1784.64, "Text": " and then I'll leave it to, you know, RFP to write the exploit."}, {"Time_Start": 1784.72, "Time_End": 1785.08, "Text": " Yes, sir."}, {"Time_Start": 1789.94, "Time_End": 1791.78, "Text": " Does it work under Windows XP?"}, {"Time_Start": 1792.78, "Time_End": 1796.1200000000001, "Text": " The active X object does."}, {"Time_Start": 1796.42, "Time_End": 1801.18, "Text": " Now, how XP is keeping it from being instantiated automatically?"}, {"Time_Start": 1801.64, "Time_End": 1802.3600000000001, "Text": " I don't know."}, {"Time_Start": 1802.56, "Time_End": 1803.6000000000001, "Text": " That's what the question was."}, {"Time_Start": 1803.6000000000001, "Time_End": 1804.78, "Text": " Does it work under XP?"}, {"Time_Start": 1805.22, "Time_End": 1811.1000000000001, "Text": " I'm going to have to say yes because the DB is not OS specific, right?"}, {"Time_Start": 1811.18, "Time_End": 1813.42, "Text": " You can load your client-side tools on that guy."}, {"Time_Start": 1813.68, "Time_End": 1815.3600000000001, "Text": " He's going to open it up, send it out."}, {"Time_Start": 1816.54, "Time_End": 1817.02, "Text": " Yes, sir."}, {"Time_Start": 1825.18, "Time_End": 1827.8600000000001, "Text": " Can you get the DB net lib to use Kerbeross?"}, {"Time_Start": 1830.06, "Time_End": 1831.52, "Text": " Not to my knowledge."}, {"Time_Start": 1835.22, "Time_End": 1843.16, "Text": " I do not know, so I'm just going to guess, but I'll first state, but I don't know."}, {"Time_Start": 1843.16, "Time_End": 1848.78, "Text": " But my guess is that since it's NT authentication, that the only way it's really going to be able to do"}, {"Time_Start": 1848.78, "Time_End": 1854.18, "Text": " that is to pass the hash over, because you're really authenticating on the other box."}, {"Time_Start": 1854.18, "Time_End": 1858.9, "Text": " So he might acquiesce to a Kerbeross server, get a token, bring it back, check it."}, {"Time_Start": 1858.9, "Time_End": 1860.1000000000001, "Text": " I don't know how that would work."}, {"Time_Start": 1860.1000000000001, "Time_End": 1861.1000000000001, "Text": " I doubt it."}, {"Time_Start": 1861.1000000000001, "Time_End": 1862.1000000000001, "Text": " But you know what?"}, {"Time_Start": 1862.1000000000001, "Time_End": 1863.1000000000001, "Text": " I'm glad you said that."}, {"Time_Start": 1863.1000000000001, "Time_End": 1865.2, "Text": " The other thing that you can do is force NTLM for."}, {"Time_Start": 1865.22, "Time_End": 1871.32, "Text": " version 2. If you can get away with that. Not all of your applications, depending on how"}, {"Time_Start": 1871.32, "Time_End": 1877.02, "Text": " they authenticate cross-platform that may not work. I'd like to know that. Who is"}, {"Time_Start": 1877.02, "Time_End": 1886.24, "Text": " successfully running NTLM V2 exclusively? There you go. Oh, these two guys are. Or do you"}, {"Time_Start": 1886.24, "Time_End": 1892.56, "Text": " have questions? Yes, sir? Oh, you are? Okay, good job. So he's in, he's in good shape."}, {"Time_Start": 1893.92, "Time_End": 1894.56, "Text": " Yes, sir."}, {"Time_Start": 1895.22, "Time_End": 1908.98, "Text": " Oh, yeah."}, {"Time_Start": 1908.98, "Time_End": 1912.46, "Text": " If you want to just engineer your way around it like that, absolutely."}, {"Time_Start": 1912.46, "Time_End": 1915.72, "Text": " And you can also call this, I mean, it's a library."}, {"Time_Start": 1915.72, "Time_End": 1918.22, "Text": " You can write code and distribute it."}, {"Time_Start": 1918.22, "Time_End": 1919.22, "Text": " It could be a Trojan."}, {"Time_Start": 1919.22, "Time_End": 1920.22, "Text": " It could be whatever."}, {"Time_Start": 1920.22, "Time_End": 1922.22, "Text": " I mean, it's not malware."}, {"Time_Start": 1922.22, "Time_End": 1923.22, "Text": " We're not malforming packets."}, {"Time_Start": 1923.22, "Time_End": 1924.22, "Text": " We're not doing anything."}, {"Time_Start": 1924.22, "Time_End": 1925.22, "Text": " It's valid."}, {"Time_Start": 1925.22, "Time_End": 1932.22, "Text": " traffic. It's NTLM traffic over the wire. Now, I mean, it's just, it's up to your imagination"}, {"Time_Start": 1932.22, "Time_End": 1937.22, "Text": " how you're going to get that library on their, on their box. I'm just telling you're like right"}, {"Time_Start": 1937.22, "Time_End": 1943.22, "Text": " out of the, right out of the blue you've got a pretty juicy target already, but absolutely."}, {"Time_Start": 1943.22, "Time_End": 1945.22, "Text": " You can, you can do any of that stuff. Yes, sir."}, {"Time_Start": 1955.22, "Time_End": 1967.22, "Text": " The question is, are there any parameters that will cause buffer overflows?"}, {"Time_Start": 1967.22, "Time_End": 1969.22, "Text": " I have no idea."}, {"Time_Start": 1969.22, "Time_End": 1971.22, "Text": " I'm not a buffer overflow guy."}, {"Time_Start": 1971.22, "Time_End": 1973.22, "Text": " Who did I see?"}, {"Time_Start": 1973.22, "Time_End": 1974.22, "Text": " There's a girl I met."}, {"Time_Start": 1974.22, "Time_End": 1975.22, "Text": " There you are."}, {"Time_Start": 1975.22, "Time_End": 1977.22, "Text": " She's a buffer overflow person."}, {"Time_Start": 1977.22, "Time_End": 1979.22, "Text": " I don't know."}, {"Time_Start": 1979.22, "Time_End": 1982.22, "Text": " Litchfield, I'll ask David Litchfield about that."}, {"Time_Start": 1982.22, "Time_End": 1984.22, "Text": " And I'll post comments and questions."}, {"Time_Start": 1984.22, "Time_End": 1990.46, "Text": " comments and questions and stuff like that on the site, very possibly, that you might be able to do that."}, {"Time_Start": 1990.46, "Time_End": 1998.54, "Text": " I would think, though, you mean in order to, Pat, there is one parameter that Chip Andrews says we can do."}, {"Time_Start": 1998.54, "Time_End": 2002.74, "Text": " I tried it before I came today and it didn't work."}, {"Time_Start": 2002.74, "Time_End": 2009.5, "Text": " But what Chip says is that in that connection string, you can specify port."}, {"Time_Start": 2009.5, "Time_End": 2011.14, "Text": " I haven't been able to do it."}, {"Time_Start": 2011.14, "Time_End": 2014.2, "Text": " He's saying go to library equals DBNetlib."}, {"Time_Start": 2014.22, "Time_End": 2024.14, "Text": " comma port. Now, if you can do that, we're all up shit creek. Because then I set my evil"}, {"Time_Start": 2024.14, "Time_End": 2031.54, "Text": " server, I hate that term, evil server. I set my server up listening to SQL on Port 53."}, {"Time_Start": 2031.54, "Time_End": 2043.98, "Text": " I send out these emails or just have a website that sends out the NTLAM hash over 53. Now, how cool would that be? If"}, {"Time_Start": 2043.98, "Time_End": 2048.22, "Text": " If anybody could make that work, please tell me, I'll put your name up and all that crap."}, {"Time_Start": 2048.22, "Time_End": 2052.2, "Text": " I'm not interested in who did what, you know. I won't say I did it."}, {"Time_Start": 2052.2, "Time_End": 2057.3, "Text": " But I mean, that would be, and I actually tried it, that's the only other parameter I know of."}, {"Time_Start": 2057.3, "Time_End": 2064.22, "Text": " You very well could cause something to go into user context and exploit, blah, blah, blah."}, {"Time_Start": 2065.42, "Time_End": 2065.82, "Text": " Anyone?"}, {"Time_Start": 2066.18, "Time_End": 2066.98, "Text": " Bueller? Anyone?"}, {"Time_Start": 2067.68, "Time_End": 2068.2400000000002, "Text": " Yes, sir."}, {"Time_Start": 2069.34, "Time_End": 2071.38, "Text": " I have to be careful. I have to look first, you know?"}, {"Time_Start": 2073.98, "Time_End": 2087.98, "Text": " I don't know what that is?"}, {"Time_Start": 2087.98, "Time_End": 2088.98, "Text": " What is that?"}, {"Time_Start": 2088.98, "Time_End": 2091.98, "Text": " Oh, yeah."}, {"Time_Start": 2091.98, "Time_End": 2093.98, "Text": " Okay, yeah, yeah, yeah."}, {"Time_Start": 2093.98, "Time_End": 2101.98, "Text": " The question was, are those parameters that I did in this ODBC connection string compatible with your standard ODBC driver library as it's called?"}, {"Time_Start": 2101.98, "Time_End": 2103.96, "Text": " Like if you're writing VB or if you're writing any."}, {"Time_Start": 2103.98, "Time_End": 2109.44, "Text": " thing and you just oh yeah that's all it is it's that string you can go into"}, {"Time_Start": 2109.44, "Time_End": 2116.28, "Text": " your view absolutely just change the network library and absolutely well I know"}, {"Time_Start": 2116.28, "Time_End": 2121.14, "Text": " everybody's really hot and I'm amazed at it oh one more question actually we got a lot"}, {"Time_Start": 2121.14, "Time_End": 2133.96, "Text": " of time we can all go drink what installing the service pack other than other than"}, {"Time_Start": 2133.98, "Time_End": 2139.92, "Text": " then the SQL server crap that the service pack does marks those active X objects"}, {"Time_Start": 2139.92, "Time_End": 2143.06, "Text": " as not safe for scripting, but they still exist."}, {"Time_Start": 2146.98, "Time_End": 2151.66, "Text": " It would probably say your security settings don't allow you to run this or it will ask if you want"}, {"Time_Start": 2151.66, "Time_End": 2158.04, "Text": " to run an active X or you'd get some other type of dialogue. And so the question was, what does"}, {"Time_Start": 2158.04, "Time_End": 2163.96, "Text": " the service pack do? And it does some stuff for SQL, I don't know, but it doesn't"}, {"Time_Start": 2163.98, "Time_End": 2168.44, "Text": " It does mark those active X controls as not safe for scripting."}, {"Time_Start": 2168.44, "Time_End": 2174.02, "Text": " But that's why I'm saying don't get hung up on these active X controls."}, {"Time_Start": 2174.02, "Time_End": 2177.6, "Text": " Because who knows what else we can do to instantiate these objects?"}, {"Time_Start": 2177.6, "Time_End": 2181.1, "Text": " If we can call DBNetlib, then the game's over."}, {"Time_Start": 2181.1, "Time_End": 2182.7400000000002, "Text": " That's the point I want to make."}, {"Time_Start": 2182.7400000000002, "Time_End": 2183.7400000000002, "Text": " Yes, sir?"}, {"Time_Start": 2183.7400000000002, "Time_End": 2188.36, "Text": " You could."}, {"Time_Start": 2188.36, "Time_End": 2190.42, "Text": " You certainly could do a push install."}, {"Time_Start": 2190.42, "Time_End": 2193.96, "Text": " I'm just saying the reason I said, it's just typically people don't do."}, {"Time_Start": 2193.98, "Time_End": 2197.98, "Text": " that. Like when your Exchange Server service pack comes out, you go over to the Exchange"}, {"Time_Start": 2197.98, "Time_End": 2203.14, "Text": " server and you install it. But everyone who has client side stuff, who cares? They can connect"}, {"Time_Start": 2203.14, "Time_End": 2207.98, "Text": " and do everything. But you absolutely could. You could use SMS. You could use Group Policy."}, {"Time_Start": 2207.98, "Time_End": 2214.98, "Text": " You could roll out custom installs. So yeah, do that. For sure. Well, good. I like questions."}, {"Time_Start": 2214.98, "Time_End": 2216.98, "Text": " Yes, ma'am."}, {"Time_Start": 2220.98, "Time_End": 2222.98, "Text": " I'm not going to tell you what she said."}, {"Time_Start": 2223.98, "Time_End": 2227.62, "Text": " I'm kidding. She said if she says thank you, can she have the t-shirt? And I said yes."}, {"Time_Start": 2228.7400000000002, "Time_End": 2231.46, "Text": " I was going to be mysterious, but I didn't want to insult her."}, {"Time_Start": 2233.12, "Time_End": 2239.2400000000002, "Text": " So, if there aren't any more questions, I'm going to let everybody run back into the air conditioning."}, {"Time_Start": 2239.68, "Time_End": 2243.48, "Text": " Thanks very much. I hope this was of some value to you."}, {"Time_Start": 2244.68, "Time_End": 2245.48, "Text": " Thank you, like you."}, {"Time_Start": 2247.92, "Time_End": 2250.18, "Text": " And have a good rest of the conference."}]}