{"segments": [{"Time_Start": 0.0, "Time_End": 2.0, "Text": " Welcome, I'm Sebastian Lacoste."}, {"Time_Start": 2.0, "Time_End": 4.0, "Text": " This is Nicola Fishbar."}, {"Time_Start": 4.0, "Time_End": 10.0, "Text": " We are working for COVE Telecom, a large ISP in Europe."}, {"Time_Start": 10.0, "Time_End": 14.0, "Text": " So we are working in Switzerland."}, {"Time_Start": 14.0, "Time_End": 18.0, "Text": " So the topic today will be layer two routing protocols"}, {"Time_Start": 18.0, "Time_End": 23.0, "Text": " and a few inns and topics on router security and forensics."}, {"Time_Start": 23.0, "Time_End": 30.0, "Text": " So on the layer two side, we will talk about most of the layer two"}, {"Time_Start": 30.0, "Time_End": 34.0, "Text": " two protocols you are used to see out there in the world."}, {"Time_Start": 34.0, "Time_End": 38.0, "Text": " It doesn't work."}, {"Time_Start": 38.0, "Time_End": 42.0, "Text": " This screen doesn't work."}, {"Time_Start": 42.0, "Time_End": 46.0, "Text": " No, it doesn't work then."}, {"Time_Start": 46.0, "Time_End": 48.0, "Text": " Sorry."}, {"Time_Start": 48.0, "Time_End": 53.0, "Text": " So I represent ARP, STP, CDP, DPT"}, {"Time_Start": 53.0, "Time_End": 57.0, "Text": " and also VLAN and HSIP, VRIP."}, {"Time_Start": 57.0, "Time_End": 60.0, "Text": " So the goal will be to show you what can be done"}, {"Time_Start": 60.0, "Time_End": 66.68, "Text": " with those different protocols and how you could protect against the different attacks we will present."}, {"Time_Start": 66.68, "Time_End": 71.88, "Text": " And then NILCO will take over and we'll talk general configuration information based"}, {"Time_Start": 71.88, "Time_End": 74.6, "Text": " on Cisco equipment."}, {"Time_Start": 74.6, "Time_End": 83.0, "Text": " And we'll have a presentation about how you can do a router forensic and integrity checking for"}, {"Time_Start": 83.0, "Time_End": 88.0, "Text": " your Cisco equipment."}, {"Time_Start": 88.0, "Time_End": 89.0, "Text": " Okay."}, {"Time_Start": 89.0, "Time_End": 90.0, "Text": " Okay."}, {"Time_Start": 90.0, "Time_End": 93.0, "Text": " There are two protocol attacks are already used."}, {"Time_Start": 93.0, "Time_End": 95.0, "Text": " Some are well known."}, {"Time_Start": 95.0, "Time_End": 100.0, "Text": " So most of the attacks are already used are IP-based attack,"}, {"Time_Start": 100.0, "Time_End": 102.0, "Text": " like cache poisoning."}, {"Time_Start": 102.0, "Time_End": 107.0, "Text": " You have a set of tools available for the attacks"}, {"Time_Start": 107.0, "Time_End": 113.0, "Text": " like Disney and Tiranis, IPOC, and so on."}, {"Time_Start": 113.0, "Time_End": 117.0, "Text": " So people are used to those attacks, but you can do much more"}, {"Time_Start": 117.0, "Time_End": 119.0, "Text": " on your Ethernet-based network."}, {"Time_Start": 119.0, "Time_End": 128.0, "Text": " mainly on new protocols or protocol used for high availability like HSRP and VRP."}, {"Time_Start": 128.0, "Time_End": 136.0, "Text": " There are also a lot of bunch of attacks you can manage against VLANs and spanning three protocols."}, {"Time_Start": 136.0, "Time_End": 147.0, "Text": " What we will see in the future, there are more and more people investigating this area during some areas, doing some research."}, {"Time_Start": 147.0, "Time_End": 148.0, "Text": " And there are more and more tools."}, {"Time_Start": 148.0, "Time_End": 154.0, "Text": " more tools available and most of the time the network crew is not used to"}, {"Time_Start": 154.0, "Time_End": 157.0, "Text": " have a look at this layer of the network."}, {"Time_Start": 157.0, "Time_End": 163.0, "Text": " So the main issue is that, yeah, if someone managed to do or to attack you at those layers,"}, {"Time_Start": 163.0, "Time_End": 165.0, "Text": " nobody will notice it."}, {"Time_Start": 165.0, "Time_End": 171.0, "Text": " And this small link, Nico will talk more in detail later on."}, {"Time_Start": 171.0, "Time_End": 177.0, "Text": " We are seeing more and more research on route kit and for,"}, {"Time_Start": 177.0, "Time_End": 180.0, "Text": " all embedded device of our network equipment."}, {"Time_Start": 180.0, "Time_End": 183.0, "Text": " So I don't know if you attend the FX talk earlier,"}, {"Time_Start": 183.0, "Time_End": 188.0, "Text": " he presented some nice stuff against the IP printer and Cisco devices,"}, {"Time_Start": 188.0, "Time_End": 192.0, "Text": " and there are much more coming, so be prepared."}, {"Time_Start": 192.0, "Time_End": 199.0, "Text": " Okay, I already presented a slide quickly the different protocol I will go through."}, {"Time_Start": 199.0, "Time_End": 202.0, "Text": " So let's start with Spanning Tree."}, {"Time_Start": 202.0, "Time_End": 206.0, "Text": " Spanning Tree is probably everybody is using it, even if you don't know about it."}, {"Time_Start": 206.0, "Time_End": 211.0, "Text": " about it, it's used to prevent loop in your Ethernet network."}, {"Time_Start": 211.0, "Time_End": 219.0, "Text": " So mainly this protocol will detect loop in the network and block the ports to prevent the"}, {"Time_Start": 219.0, "Time_End": 221.0, "Text": " loop to happen."}, {"Time_Start": 221.0, "Time_End": 228.0, "Text": " So most of the switching equipment, Spanning Tree Protocol is enabled by default on all ports."}, {"Time_Start": 228.0, "Time_End": 235.0, "Text": " And what you have to do is spanning tree protocol doesn't permit, it was not designed for security,"}, {"Time_Start": 235.0, "Time_End": 236.0, "Text": " so you have no way to protect."}, {"Time_Start": 236.0, "Time_End": 241.0, "Text": " not a lot of different way to protect again spanning tree attacks."}, {"Time_Start": 241.0, "Time_End": 249.0, "Text": " So there is a small state machine presenting the spanning tree processing for a Cisco router."}, {"Time_Start": 249.0, "Time_End": 255.0, "Text": " So what has to be known, as long, on a Cisco at least, as long as spanning tree is processed,"}, {"Time_Start": 255.0, "Time_End": 261.0, "Text": " the port will be blocked, so no traffic will be received or send over this port."}, {"Time_Start": 261.0, "Time_End": 264.0, "Text": " It can be used later on for denial of service attack."}, {"Time_Start": 266.0, "Time_End": 268.0, "Text": " So how does Span tree usually work?"}, {"Time_Start": 268.0, "Time_End": 275.0, "Text": " So this is a sample network with like four switches and a redundant link on the two upper switches."}, {"Time_Start": 275.0, "Time_End": 282.0, "Text": " So Spanning Tree will elect a root switch that will be the master for the Spadding Tree processing."}, {"Time_Start": 282.0, "Time_End": 288.0, "Text": " And the Spanning Tree Protocol will run and will block the redundant links to avoid loops on the network."}, {"Time_Start": 288.0, "Time_End": 293.0, "Text": " So basically all the traffic will go through the route switch."}, {"Time_Start": 293.0, "Time_End": 295.0, "Text": " So this is nice to know."}, {"Time_Start": 295.0, "Time_End": 296.0, "Text": " If you are now on a network,"}, {"Time_Start": 296.0, "Time_End": 301.0, "Text": " with several switches and you want to do some traffic interception or sniffing."}, {"Time_Start": 301.0, "Time_End": 306.0, "Text": " This could be used, you could use spanning tree to force the traffic to go through you."}, {"Time_Start": 306.0, "Time_End": 310.0, "Text": " So here is our attacker connecting to the two switches."}, {"Time_Start": 310.0, "Time_End": 315.0, "Text": " So for this kind of attack, you need to have access to two different equipment, two switches."}, {"Time_Start": 315.0, "Time_End": 319.0, "Text": " So what you will have to do is pretend to be the root switch."}, {"Time_Start": 319.0, "Time_End": 322.0, "Text": " So it's an election process."}, {"Time_Start": 322.0, "Time_End": 325.98, "Text": " So the only thing you have to do is to announce yourself with higher priorities"}, {"Time_Start": 326.0, "Time_End": 328.0, "Text": " and the existing switches."}, {"Time_Start": 328.0, "Time_End": 334.0, "Text": " And then runs spanning tree and force the blocking of all the other ports."}, {"Time_Start": 334.0, "Time_End": 341.0, "Text": " So doing this, all the traffic between the right and the left side will go through the attacker."}, {"Time_Start": 341.0, "Time_End": 347.0, "Text": " So then you can freely sniff the traffic and mainly nobody on the network will notice it because it's"}, {"Time_Start": 347.0, "Time_End": 352.0, "Text": " totally transparent and most of the time nobody is monitoring this layer of the network."}, {"Time_Start": 352.0, "Time_End": 355.0, "Text": " So yeah, this is quite nice and"}, {"Time_Start": 355.0, "Time_End": 362.0, "Text": " Other kind of spanning tree attack you can do is one which is more well known is"}, {"Time_Start": 362.0, "Time_End": 368.0, "Text": " CAMHs, MAC address, entry, poisoning."}, {"Time_Start": 368.0, "Time_End": 374.0, "Text": " So you can have a denial of service against the switch during that."}, {"Time_Start": 374.0, "Time_End": 379.0, "Text": " What you could also do is force infinite spanning tree processing,"}, {"Time_Start": 379.0, "Time_End": 382.0, "Text": " meaning during the processing all the ports are blocked,"}, {"Time_Start": 382.0, "Time_End": 384.0, "Text": " you will have a completely deny of service."}, {"Time_Start": 384.0, "Time_End": 388.0, "Text": " a denial of service on your ICANNA network."}, {"Time_Start": 388.0, "Time_End": 392.0, "Text": " So those attacks are pretty simple to make."}, {"Time_Start": 392.0, "Time_End": 394.0, "Text": " Spanning Tree protocol is not really easy."}, {"Time_Start": 394.0, "Time_End": 397.0, "Text": " You have a several implementation, like in the Linux Canal, for example,"}, {"Time_Start": 397.0, "Time_End": 403.0, "Text": " you have patch for it, and you have a set of tools for manipulating Spanning Tree."}, {"Time_Start": 403.0, "Time_End": 407.0, "Text": " So it's really easy to make and really hard to track down because"}, {"Time_Start": 407.0, "Time_End": 411.0, "Text": " once Spanctree is running, you don't have any more access to any equipment,"}, {"Time_Start": 411.0, "Time_End": 413.0, "Text": " so what you will need is serial access to all your screen."}, {"Time_Start": 413.0, "Time_End": 417.0, "Text": " to all your switches, analyze the spanning tripopology,"}, {"Time_Start": 417.0, "Time_End": 420.0, "Text": " and see and try to understand what's going on."}, {"Time_Start": 420.0, "Time_End": 425.0, "Text": " So there are a few security measures you can use as a prevention"}, {"Time_Start": 425.0, "Time_End": 428.0, "Text": " against those kind of attacks."}, {"Time_Start": 428.0, "Time_End": 432.0, "Text": " The main one will be to monitor which equipment is a root bridge."}, {"Time_Start": 432.0, "Time_End": 437.0, "Text": " On a stable network, if you don't add or modify the configuration of your equipment,"}, {"Time_Start": 437.0, "Time_End": 439.0, "Text": " the root bridge shouldn't change."}, {"Time_Start": 439.0, "Time_End": 442.0, "Text": " So it should be always the same equipment."}, {"Time_Start": 442.0, "Time_End": 443.0, "Text": " And if you have a large,"}, {"Time_Start": 443.0, "Time_End": 450.0, "Text": " network usually you define yourself which one is a road bridge by setting up higher priority for this one."}, {"Time_Start": 450.0, "Time_End": 459.0, "Text": " Another thing you can do is a filter MAC address that can be available on each port."}, {"Time_Start": 459.0, "Time_End": 463.0, "Text": " So depending on your equipment, you have a different command set."}, {"Time_Start": 463.0, "Time_End": 467.0, "Text": " Here we are presenting the command for Cisco switches."}, {"Time_Start": 467.0, "Time_End": 472.0, "Text": " So you can just define which MAC address are available on a port."}, {"Time_Start": 472.0, "Time_End": 476.0, "Text": " on a port to avoid someone plugging in on your network."}, {"Time_Start": 476.0, "Time_End": 483.0, "Text": " Now to filter a spanning tree attack, what you should do on each port which is not connected to another"}, {"Time_Start": 483.0, "Time_End": 491.0, "Text": " switch running spanning tree, you should disable spanning tree frame, PDU."}, {"Time_Start": 491.0, "Time_End": 496.0, "Text": " So you have the, as example, the command line for a multi-air switch."}, {"Time_Start": 496.0, "Time_End": 501.0, "Text": " So it's pretty simple and you can deactivate it for the wall switch."}, {"Time_Start": 501.0, "Time_End": 503.0, "Text": " for the wall switch or per interface."}, {"Time_Start": 503.0, "Time_End": 508.0, "Text": " Just a small note, there is a nice feature on the Cisco switches."}, {"Time_Start": 508.0, "Time_End": 512.0, "Text": " You can filter the amount of broadcast traffic allowed on your network."}, {"Time_Start": 512.0, "Time_End": 515.0, "Text": " So it's just a percentage of your global traffic."}, {"Time_Start": 515.0, "Time_End": 520.0, "Text": " And it's also very convenient to block broadcast storm and so on."}, {"Time_Start": 520.0, "Time_End": 525.0, "Text": " So now we move to another protocol which is used by Cisco."}, {"Time_Start": 525.0, "Time_End": 528.0, "Text": " So it's a proprietary protocol."}, {"Time_Start": 528.0, "Time_End": 530.0, "Text": " So it's based on HDLC."}, {"Time_Start": 530.0, "Time_End": 537.0, "Text": " on HDLC, this means it doesn't use IP. It's a multic traffic. So basically CDP"}, {"Time_Start": 537.0, "Time_End": 547.0, "Text": " is used to automatically discover your network. Every equipment will broadcast CDP information"}, {"Time_Start": 547.0, "Time_End": 558.0, "Text": " which contains device name, network, configuration, capabilities of the equipment, and so on."}, {"Time_Start": 558.0, "Time_End": 559.0, "Text": " Okay."}, {"Time_Start": 559.0, "Time_End": 560.0, "Text": " So this is an example of the equipment."}, {"Time_Start": 560.0, "Time_End": 562.0, "Text": " CDP packet."}, {"Time_Start": 562.0, "Time_End": 565.0, "Text": " So this was in a previous conference in Kansas,"}, {"Time_Start": 565.0, "Time_End": 567.0, "Text": " West, in Vancouver."}, {"Time_Start": 567.0, "Time_End": 569.0, "Text": " It was on the hotel network."}, {"Time_Start": 569.0, "Time_End": 571.0, "Text": " This was the main router of the network."}, {"Time_Start": 571.0, "Time_End": 574.0, "Text": " So mainly what you will be able to see with CDP"}, {"Time_Start": 574.0, "Time_End": 578.0, "Text": " was the IP address of the management network,"}, {"Time_Start": 578.0, "Time_End": 580.0, "Text": " which is the first red circle,"}, {"Time_Start": 580.0, "Time_End": 584.0, "Text": " so which is quite convenient if you want to attack it."}, {"Time_Start": 584.0, "Time_End": 588.0, "Text": " And you can also identify easily the model of equipment."}, {"Time_Start": 588.0, "Time_End": 589.0, "Text": " So if you have a model of equipment."}, {"Time_Start": 589.0, "Time_End": 593.0, "Text": " So if you have an attack for specific model of equipment,"}, {"Time_Start": 593.0, "Time_End": 596.0, "Text": " this is a way to identify the equipment very easily."}, {"Time_Start": 596.0, "Time_End": 605.0, "Text": " You are also to know that Spanning Tree is subject to a denial of service attacks."}, {"Time_Start": 605.0, "Time_End": 609.0, "Text": " It was discovered by FX last year."}, {"Time_Start": 609.0, "Time_End": 616.0, "Text": " So you were able to just send a lot of CDP packets to the router"}, {"Time_Start": 616.0, "Time_End": 618.0, "Text": " to the equipment and it will just crash when you are able to just."}, {"Time_Start": 618.0, "Time_End": 625.0, "Text": " will just crash when the CDP entries will, memory will be, was full."}, {"Time_Start": 625.0, "Time_End": 630.0, "Text": " So the security measure, usually you don't need CDP."}, {"Time_Start": 630.0, "Time_End": 635.0, "Text": " You have probably other monitoring tools that don't use CDP, so if you don't use it,"}, {"Time_Start": 635.0, "Time_End": 639.0, "Text": " just deactivate it. It's just simple sanity measure."}, {"Time_Start": 639.0, "Time_End": 647.0, "Text": " So you can deactivate CDP for the wall equipment or on each interface of your equipment."}, {"Time_Start": 647.0, "Time_End": 651.0, "Text": " So you have the example of configuration."}, {"Time_Start": 651.0, "Time_End": 658.0, "Text": " Now we move a little bit to the VLAN, so layer to partitioning."}, {"Time_Start": 658.0, "Time_End": 663.0, "Text": " So as you probably all know, VLANs were not designed for doing any security."}, {"Time_Start": 663.0, "Time_End": 670.0, "Text": " It was just for network isolation, just for easier management or administration."}, {"Time_Start": 670.0, "Time_End": 676.0, "Text": " Unfortunately, a lot of people tend to use VLAN to partition network."}, {"Time_Start": 676.0, "Time_End": 684.0, "Text": " So, as this protocol was not designed for security, you have a few floor or at least a few points you should pay attention to."}, {"Time_Start": 684.0, "Time_End": 694.0, "Text": " One main protocol which is used by Cisco, which is a VMPPS, which is a VLine management policy server."}, {"Time_Start": 694.0, "Time_End": 697.0, "Text": " It's a very nice protocol."}, {"Time_Start": 697.0, "Time_End": 703.0, "Text": " On the VMPS server, you just define a MAC address of your workstation,"}, {"Time_Start": 703.0, "Time_End": 705.0, "Text": " and you define on the server in which VNPS server in which VNPS server."}, {"Time_Start": 705.0, "Time_End": 710.0, "Text": " in which VLAN this address, this MAC address will belong to."}, {"Time_Start": 710.0, "Time_End": 714.0, "Text": " So when you want to use your word session, you just plug on any switch,"}, {"Time_Start": 714.0, "Time_End": 718.0, "Text": " and you will automatically belong to the right VLAN."}, {"Time_Start": 718.0, "Time_End": 722.0, "Text": " So the program is easy to smooth the MAC address, so if anybody know your MAC address,"}, {"Time_Start": 722.0, "Time_End": 724.0, "Text": " they will have access to your VLAN."}, {"Time_Start": 724.0, "Time_End": 726.0, "Text": " So, yeah, just do use this protocol."}, {"Time_Start": 726.0, "Time_End": 728.0, "Text": " That's cheat."}, {"Time_Start": 728.0, "Time_End": 734.0, "Text": " Another program with VLAN will be to be able to jump across VLAN."}, {"Time_Start": 734.0, "Time_End": 744.0, "Text": " So in the past, there were several issues with the switches when you were able to break the switch by jumping from one VLAN to another."}, {"Time_Start": 744.0, "Time_End": 751.0, "Text": " In the latest release on most of the equipment, it's impossible or much harder to do."}, {"Time_Start": 751.0, "Time_End": 760.0, "Text": " However, there are some protocols used for VLAN management, so like DTP, which is dynamic trunking protocol."}, {"Time_Start": 760.0, "Time_End": 763.0, "Text": " So DTP is used to send several VLLANDs."}, {"Time_Start": 763.0, "Time_End": 766.0, "Text": " several VLANs across switches."}, {"Time_Start": 766.0, "Time_End": 772.0, "Text": " So typically on one port you will have all the VLAN going through this port."}, {"Time_Start": 772.0, "Time_End": 780.0, "Text": " One main problem is that on a lot of equipment, all the port are able to do DTP by default."}, {"Time_Start": 780.0, "Time_End": 782.0, "Text": " So you just have to plug to the equipment and say,"}, {"Time_Start": 782.0, "Time_End": 785.0, "Text": " okay, hello, I want to do some trunking."}, {"Time_Start": 785.0, "Time_End": 787.0, "Text": " So the street will say, okay, fine, let's do tranking."}, {"Time_Start": 787.0, "Time_End": 791.0, "Text": " And then you will have access to all the VLAN on the switch."}, {"Time_Start": 791.0, "Time_End": 792.0, "Text": " They will just have the choice."}, {"Time_Start": 792.0, "Time_End": 797.0, "Text": " have the choice, you will be able to choose on which VLAN you want to send your packets,"}, {"Time_Start": 797.0, "Time_End": 799.0, "Text": " and well, it's done."}, {"Time_Start": 799.0, "Time_End": 804.0, "Text": " Yeah, mainly."}, {"Time_Start": 804.0, "Time_End": 817.0, "Text": " So main protection against DTP is just deactivated on each port which doesn't need to run trunking."}, {"Time_Start": 817.0, "Time_End": 821.0, "Text": " So by default, only the port between switches which are in."}, {"Time_Start": 821.0, "Time_End": 825.0, "Text": " switches which are in Trunking mode should be allowed to use DTP."}, {"Time_Start": 825.0, "Time_End": 832.0, "Text": " Another nice protocol is VTP, which is VLAM Trunking Protocol."}, {"Time_Start": 832.0, "Time_End": 837.0, "Text": " It's a protocol used for centrally manage all the VLAN."}, {"Time_Start": 837.0, "Time_End": 841.0, "Text": " So with this protocol,"}, {"Time_Start": 841.0, "Time_End": 845.0, "Text": " you will be able to, instead of going to each equipment"}, {"Time_Start": 845.0, "Time_End": 848.0, "Text": " and define which VLAN are available on your network,"}, {"Time_Start": 848.0, "Time_End": 851.0, "Text": " you will only need to go to one equipment, define to one equipment, define"}, {"Time_Start": 851.0, "Time_End": 855.0, "Text": " the VLAN and it will be spread across your own network."}, {"Time_Start": 855.0, "Time_End": 861.0, "Text": " So it uses a CDP like frames and it communicates only over trunk ports."}, {"Time_Start": 861.0, "Time_End": 868.0, "Text": " So using this protocol you can easily add remove VLANs or create a spanning tree loops in your network."}, {"Time_Start": 868.0, "Time_End": 875.0, "Text": " So definitely you should deactivate it or at least set up password on it."}, {"Time_Start": 875.0, "Time_End": 879.0, "Text": " So you have an example of command for Cisco switches."}, {"Time_Start": 881.0, "Time_End": 889.0, "Text": " Okay, going back to the DTP."}, {"Time_Start": 889.0, "Time_End": 897.0, "Text": " So as I said, with DTP, you can inject frames in any VLAN you want or jump between VLAN."}, {"Time_Start": 897.0, "Time_End": 901.0, "Text": " So deactivate it if you don't need it."}, {"Time_Start": 901.0, "Time_End": 909.0, "Text": " Okay, another protocol which is often running if you have high availability or equipment,"}, {"Time_Start": 909.0, "Time_End": 910.0, "Text": " it's HSP and VRP."}, {"Time_Start": 910.0, "Time_End": 911.0, "Text": " and VRP."}, {"Time_Start": 911.0, "Time_End": 920.0, "Text": " So HSRP is used mainly by Cisco and VRP is a more standard protocol used by like Nokia,"}, {"Time_Start": 920.0, "Time_End": 923.0, "Text": " a checkpoint firewall one and so on."}, {"Time_Start": 923.0, "Time_End": 927.0, "Text": " The goal of those protocols is to provide the next up redundancy."}, {"Time_Start": 927.0, "Time_End": 930.0, "Text": " This means an IP address will be shared between two equipment."}, {"Time_Start": 930.0, "Time_End": 933.0, "Text": " One will be master, one's standby."}, {"Time_Start": 933.0, "Time_End": 939.0, "Text": " And if the master failed, the standby equipment will take over the IP address."}, {"Time_Start": 939.0, "Time_End": 940.0, "Text": " So."}, {"Time_Start": 940.0, "Time_End": 947.0, "Text": " This protocol is usually using multicasts for advertising between both equipment with a virtual mic address."}, {"Time_Start": 947.0, "Time_End": 953.0, "Text": " What you have to know is with Cisco routers."}, {"Time_Start": 953.0, "Time_End": 960.0, "Text": " If you have more than two routers in a standby group, you don't need to kill any router to take over the IP address."}, {"Time_Start": 960.0, "Time_End": 965.0, "Text": " You just need to advertise yourself with a higher priority."}, {"Time_Start": 965.0, "Time_End": 969.0, "Text": " And then you will have the IP address and we will get all the traffic."}, {"Time_Start": 969.0, "Time_End": 978.0, "Text": " So this protocol support MD5 authentication, so yeah, activate it."}, {"Time_Start": 978.0, "Time_End": 985.0, "Text": " So here you have the command for the authentication part, and you can also define yourself"}, {"Time_Start": 985.0, "Time_End": 989.0, "Text": " the MAC address you want to use for this protocol."}, {"Time_Start": 989.0, "Time_End": 994.0, "Text": " If you really want to add another area of security, you could use IPSEG for the communication"}, {"Time_Start": 994.0, "Time_End": 996.0, "Text": " between the two equipment."}, {"Time_Start": 996.0, "Time_End": 998.0, "Text": " The main problem is that HSIPs is that."}, {"Time_Start": 998.0, "Time_End": 1003.0, "Text": " HSP is using multicast frames, so it's quite tricky to set up on your equipment."}, {"Time_Start": 1003.0, "Time_End": 1006.0, "Text": " But it's possible depending on your iOS release."}, {"Time_Start": 1006.0, "Time_End": 1012.0, "Text": " And definitely it's only limited to two routers because you cannot have multi-points IPSEG tunnels."}, {"Time_Start": 1012.0, "Time_End": 1019.0, "Text": " So VRPP has mainly the same issue as IPSEG."}, {"Time_Start": 1019.0, "Time_End": 1022.0, "Text": " Now I will go to another issue is"}, {"Time_Start": 1022.0, "Time_End": 1027.0, "Text": " once something is going wrong on your network, what can you do to troubleshoot?"}, {"Time_Start": 1027.0, "Time_End": 1029.0, "Text": " you do to troubleshoot it?"}, {"Time_Start": 1029.0, "Time_End": 1031.0, "Text": " Yeah."}, {"Time_Start": 1031.0, "Time_End": 1034.0, "Text": " One way of doing it is to do it locally on the equipment."}, {"Time_Start": 1034.0, "Time_End": 1040.0, "Text": " So depending on the kind of equipment and the model and the volume of traffic you have on it,"}, {"Time_Start": 1040.0, "Time_End": 1043.0, "Text": " it may be more or less easy."}, {"Time_Start": 1043.0, "Time_End": 1048.0, "Text": " Most of the time if you have heavy-loaded equipment or switch,"}, {"Time_Start": 1048.0, "Time_End": 1055.0, "Text": " as soon as you enable some debugging or traffic dump on the equipment, you will just crush it."}, {"Time_Start": 1055.0, "Time_End": 1056.0, "Text": " However, it's possible."}, {"Time_Start": 1056.0, "Time_End": 1057.0, "Text": " it's possible."}, {"Time_Start": 1057.0, "Time_End": 1064.0, "Text": " So on Cisco, switch you just have to define an ICL for the traffic you want to dump."}, {"Time_Start": 1064.0, "Time_End": 1069.0, "Text": " And definitely, please activate the login buffer."}, {"Time_Start": 1069.0, "Time_End": 1077.0, "Text": " So the output is not directly print on the console, but in the buffer that you can access easily."}, {"Time_Start": 1077.0, "Time_End": 1084.0, "Text": " So this kind of monitoring or traffic dumping will have a high CPU and pack on your router."}, {"Time_Start": 1084.0, "Time_End": 1085.0, "Text": " And as I said, most of the time it will create."}, {"Time_Start": 1085.0, "Time_End": 1089.0, "Text": " the first of the time it will crush your equipment."}, {"Time_Start": 1089.0, "Time_End": 1095.0, "Text": " Another way of doing it is, if you are working on the router, is to send the traffic you want over"}, {"Time_Start": 1095.0, "Time_End": 1099.0, "Text": " a GRI tunnel to another device."}, {"Time_Start": 1099.0, "Time_End": 1105.0, "Text": " So one way to do that is using a GIE tunnel, which is IP over IP encapsulation."}, {"Time_Start": 1105.0, "Time_End": 1113.0, "Text": " And you can use a tool like Tunnelix on the other side to receive the traffic and analyze it."}, {"Time_Start": 1113.0, "Time_End": 1114.0, "Text": " When you are on switches,"}, {"Time_Start": 1114.0, "Time_End": 1121.0, "Text": " which is a little bit more convenient than a router because you have what is called spanning tree port."}, {"Time_Start": 1121.0, "Time_End": 1128.0, "Text": " So those ports allow to, with those ports you can mirror the traffic of your switch to these ports."}, {"Time_Start": 1128.0, "Time_End": 1134.0, "Text": " You just, you can plug your PC or any other equipment to analyze the traffic."}, {"Time_Start": 1134.0, "Time_End": 1143.0, "Text": " So depending on what model of switch you are working on, you can monitor the whole switch traffic or define the V-lines you want to monitor"}, {"Time_Start": 1143.0, "Time_End": 1144.0, "Text": " etc."}, {"Time_Start": 1144.0, "Time_End": 1154.0, "Text": " A nice feature you have also on 6,000 series from Cisco is that you can send a span port across"}, {"Time_Start": 1154.0, "Time_End": 1156.0, "Text": " several switches."}, {"Time_Start": 1156.0, "Time_End": 1163.0, "Text": " Let's say you have 4 or 5609 on your network, you just link them and the spanning tree,"}, {"Time_Start": 1163.0, "Time_End": 1170.0, "Text": " the spanning port of a mirroring port of one switch will be sent across all the switches to the last one"}, {"Time_Start": 1170.0, "Time_End": 1172.0, "Text": " and you just need to plug in one."}, {"Time_Start": 1172.0, "Time_End": 1176.0, "Text": " plugged in one place to monitor your traffic."}, {"Time_Start": 1176.0, "Time_End": 1180.0, "Text": " So this feature is called air span."}, {"Time_Start": 1180.0, "Time_End": 1186.0, "Text": " And the nice thing is that on switches you have a performance impact which is close to zero with"}, {"Time_Start": 1186.0, "Time_End": 1190.0, "Text": " a portment mirroring."}, {"Time_Start": 1190.0, "Time_End": 1193.0, "Text": " Okay, this was for the layer two part."}, {"Time_Start": 1193.0, "Time_End": 1199.0, "Text": " So Nico will continue on with router configuration and router forensic."}, {"Time_Start": 1199.0, "Time_End": 1201.0, "Text": " Thank you."}, {"Time_Start": 1201.0, "Time_End": 1202.0, "Text": " So we go."}, {"Time_Start": 1202.0, "Time_End": 1205.0, "Text": " I'm going to go ahead with some configuration basics, 4 and 6 and so on."}, {"Time_Start": 1205.0, "Time_End": 1207.0, "Text": " Don't try to write everything down."}, {"Time_Start": 1207.0, "Time_End": 1213.0, "Text": " You're going to put the presentation online and give you the address at the end on the last slide so you can get a copy of it."}, {"Time_Start": 1213.0, "Time_End": 1219.0, "Text": " So basically, like any operating system, routs or switches and so on,"}, {"Time_Start": 1219.0, "Time_End": 1223.0, "Text": " also have a lot of services turned on by default that nobody needs."}, {"Time_Start": 1223.0, "Time_End": 1232.0, "Text": " So the first four tables you see are all the basic services you should turn off because they are really not useful in most of the"}, {"Time_Start": 1232.0, "Time_End": 1235.0, "Text": " environments you guys run the routers or switches in."}, {"Time_Start": 1235.0, "Time_End": 1240.0, "Text": " What is also important is to use syslog to look all the traffic to remote workstation,"}, {"Time_Start": 1240.0, "Time_End": 1245.0, "Text": " running syslog D, syslog NG or some other kind of syslog servers."}, {"Time_Start": 1245.0, "Time_End": 1248.0, "Text": " Don't forget that everything that is running on the router and log locally"}, {"Time_Start": 1248.0, "Time_End": 1250.0, "Text": " on the router is lost when you boot it."}, {"Time_Start": 1250.0, "Time_End": 1255.0, "Text": " It's only stored in RAM, not in Flash or NV RAM."}, {"Time_Start": 1255.0, "Time_End": 1261.98, "Text": " And as usual, run some NTP clients on every device to get some time synchronization and"}, {"Time_Start": 1262.0, "Time_End": 1269.0, "Text": " this will also help a lot to debug and have a look at the forensic site."}, {"Time_Start": 1269.0, "Time_End": 1274.0, "Text": " So the one slide before was basically all the global configuration commands you have to use."}, {"Time_Start": 1274.0, "Time_End": 1277.0, "Text": " That ones are the one they have to use on the interface level."}, {"Time_Start": 1277.0, "Time_End": 1284.0, "Text": " So basically you have to deactivate all the things like source routing, directed broadcasts and so on and so on."}, {"Time_Start": 1284.0, "Time_End": 1287.0, "Text": " If you guys are running multicast in your network,"}, {"Time_Start": 1287.0, "Time_End": 1291.0, "Text": " just make sure that some models can just jump in and become a rendezvous point."}, {"Time_Start": 1291.0, "Time_End": 1299.0, "Text": " point to become a rendezvous point at the multicast level so that people can try to inject new frames."}, {"Time_Start": 1299.0, "Time_End": 1304.0, "Text": " And one thing that is really nice on most of the devices is to use loopbacks."}, {"Time_Start": 1304.0, "Time_End": 1308.0, "Text": " Usually, your authors have a lot of interfaces, each interface is an IP address."}, {"Time_Start": 1308.0, "Time_End": 1312.0, "Text": " And depending on the interface that is used to send the information out,"}, {"Time_Start": 1312.0, "Time_End": 1317.0, "Text": " like a log message, for example, as an MP trap, the IP address you're going to have in the log is going to be different."}, {"Time_Start": 1317.0, "Time_End": 1321.0, "Text": " So if you use a loopback and tell the box to use a loopback to do that,"}, {"Time_Start": 1321.0, "Time_End": 1325.0, "Text": " you will always find the same IP address or name in your logs."}, {"Time_Start": 1325.0, "Time_End": 1328.0, "Text": " That also helps a lot when you have to debug."}, {"Time_Start": 1328.0, "Time_End": 1334.0, "Text": " So, SNMP, well, everybody dislikes SNMP but has to use it"}, {"Time_Start": 1334.0, "Time_End": 1338.0, "Text": " because it's the protocol that is running and that most of the people use."}, {"Time_Start": 1338.0, "Time_End": 1344.0, "Text": " So V1 is the old one that uses that everybody knows uses SMMP communities,"}, {"Time_Start": 1344.0, "Time_End": 1347.0, "Text": " so to say, as a password to get access to the information."}, {"Time_Start": 1347.0, "Time_End": 1351.0, "Text": " V2 had security or something that's used to be used to be."}, {"Time_Start": 1351.0, "Time_End": 1359.0, "Text": " called Pardy by Cisco and get bulk to get more information than just going over a set and then get next, get next and so on."}, {"Time_Start": 1359.0, "Time_End": 1364.0, "Text": " Most of the new iOS releases support SNMPPV3."}, {"Time_Start": 1364.0, "Time_End": 1370.0, "Text": " So that one has integrated checking encryption and can you even have a user defined locally on each router."}, {"Time_Start": 1370.0, "Time_End": 1375.0, "Text": " So you don't have to use the one same community everywhere in your network."}, {"Time_Start": 1375.0, "Time_End": 1379.0, "Text": " So most of the known attacks, I mean, you guys know about it."}, {"Time_Start": 1379.0, "Time_End": 1380.0, "Text": " So I'm just going to go away quickly."}, {"Time_Start": 1380.0, "Time_End": 1382.0, "Text": " right quickly, the real communities."}, {"Time_Start": 1382.0, "Time_End": 1385.0, "Text": " We still see a lot of guys using public, private,"}, {"Time_Start": 1385.0, "Time_End": 1387.0, "Text": " the name of the device, the name of the guy,"}, {"Time_Start": 1387.0, "Time_End": 1389.0, "Text": " and this kind of thing."}, {"Time_Start": 1389.0, "Time_End": 1391.0, "Text": " So just, yeah."}, {"Time_Start": 1395.0, "Time_End": 1396.0, "Text": " Free."}, {"Time_Start": 1396.0, "Time_End": 1401.0, "Text": " Formation League, also don't forget that"}, {"Time_Start": 1401.0, "Time_End": 1404.0, "Text": " when you guys set up an SNMP management tool,"}, {"Time_Start": 1404.0, "Time_End": 1405.0, "Text": " network management tool,"}, {"Time_Start": 1405.0, "Time_End": 1406.0, "Text": " network monitoring tool,"}, {"Time_Start": 1406.0, "Time_End": 1410.0, "Text": " that you have to restrict the IP space you want this"}, {"Time_Start": 1410.0, "Time_End": 1415.0, "Text": " an MP community to send out. Otherwise, you're going to send the information out to the whole internet."}, {"Time_Start": 1415.0, "Time_End": 1420.0, "Text": " We have seen that haven't sometimes, so don't give you cover new it out."}, {"Time_Start": 1420.0, "Time_End": 1425.0, "Text": " So what you can do, you have two options as usual when you have some things running on the Cisco devices."}, {"Time_Start": 1425.0, "Time_End": 1429.0, "Text": " It's use IP level filtering, that means you're going to filter out the packets at the interface,"}, {"Time_Start": 1429.0, "Time_End": 1434.0, "Text": " or you can do application level filtering that is defined and access control list"}, {"Time_Start": 1434.0, "Time_End": 1438.0, "Text": " and use it kind of for access control at the application level."}, {"Time_Start": 1438.0, "Time_End": 1440.0, "Text": " What you can also do, which is a kind of nice,"}, {"Time_Start": 1440.0, "Time_End": 1444.0, "Text": " option on that one is to restrict the view you're going to give the SNMP community."}, {"Time_Start": 1444.0, "Time_End": 1449.0, "Text": " That means if you have some tools that just go ahead and dump the whole SNMP MEAPs from your order,"}, {"Time_Start": 1449.0, "Time_End": 1455.0, "Text": " you can just exclude some of them so that you don't send every time, like you're doing 10 minutes,"}, {"Time_Start": 1455.0, "Time_End": 1457.0, "Text": " SNMP information back."}, {"Time_Start": 1457.0, "Time_End": 1462.0, "Text": " So, V3 is starting to be supported by most of the devices."}, {"Time_Start": 1462.0, "Time_End": 1469.0, "Text": " We have an example of how to define a user, a group, and just permit access."}, {"Time_Start": 1469.0, "Time_End": 1470.0, "Text": " That one, for example, for example."}, {"Time_Start": 1470.0, "Time_End": 1477.0, "Text": " is using MD5 to do an authentication and there's 56 to do the encryption."}, {"Time_Start": 1477.0, "Time_End": 1479.0, "Text": " This is just a basic example."}, {"Time_Start": 1479.0, "Time_End": 1483.0, "Text": " You guys have probably heard that SNMP had a lot of weaknesses recently."}, {"Time_Start": 1483.0, "Time_End": 1486.0, "Text": " Cisco was affected by the lot of works in the last two years."}, {"Time_Start": 1486.0, "Time_End": 1489.0, "Text": " One of them was the hidden ELMI community."}, {"Time_Start": 1489.0, "Time_End": 1492.0, "Text": " That one is used usually in ATM networks,"}, {"Time_Start": 1492.0, "Time_End": 1498.0, "Text": " but was activated by default even if you don't have any ATM interfaces on your equipment."}, {"Time_Start": 1498.0, "Time_End": 1511.0, "Text": " So all these DSNP Berg, especially the one that affected most of the vendors because it's in the core SNMP that means ASN1 is always a problem."}, {"Time_Start": 1511.0, "Time_End": 1519.0, "Text": " You have to run SNMP but you have to find the right middle is running it open, not open and so tune it and just don't activate it by default."}, {"Time_Start": 1519.0, "Time_End": 1524.0, "Text": " You also have since recent releases of iOS SSH support."}, {"Time_Start": 1524.0, "Time_End": 1527.0, "Text": " Basically it's the same SSH as the one from SSH.com."}, {"Time_Start": 1527.0, "Time_End": 1532.0, "Text": " com from the 1.2.2.26-27 series."}, {"Time_Start": 1532.0, "Time_End": 1538.0, "Text": " So this implementation by Cisco has the same bugs as the old SSH1 release."}, {"Time_Start": 1538.0, "Time_End": 1543.0, "Text": " So it's CSU 32 bug, the key recovery, traffic analyzes and so on."}, {"Time_Start": 1543.0, "Time_End": 1552.0, "Text": " Bad thing, you can use a force triple death and you can not use keys to indicate on the road or on the switch."}, {"Time_Start": 1552.0, "Time_End": 1557.0, "Text": " And the other downside is that you have to run an image that supports"}, {"Time_Start": 1557.0, "Time_End": 1562.0, "Text": " ports SSH and usually they're more expensive."}, {"Time_Start": 1562.0, "Time_End": 1566.0, "Text": " But you can run SSH on any Cisco road or any Cisco switch."}, {"Time_Start": 1566.0, "Time_End": 1570.0, "Text": " So configuration is quite basic, you just have to define."}, {"Time_Start": 1570.0, "Time_End": 1575.0, "Text": " Both name generate an RASA key for the box and activate it."}, {"Time_Start": 1575.0, "Time_End": 1580.0, "Text": " Also, since most of the 12-2 releases you can use SCP to SCP in and out the road"}, {"Time_Start": 1580.0, "Time_End": 1584.0, "Text": " instead of TFTP or Telnet, which is clear text."}, {"Time_Start": 1584.0, "Time_End": 1586.0, "Text": " IPSA configuration, not much."}, {"Time_Start": 1586.0, "Time_End": 1588.0, "Text": " configuration, not much to say about it."}, {"Time_Start": 1588.0, "Time_End": 1594.0, "Text": " If you guys want to use IPSEC instead of SSH to manage the router,"}, {"Time_Start": 1594.0, "Time_End": 1598.0, "Text": " you can just define the IPSEC configuration."}, {"Time_Start": 1598.0, "Time_End": 1601.0, "Text": " You can try to deny all traffic except IPSEC,"}, {"Time_Start": 1601.0, "Time_End": 1604.0, "Text": " but it's not working that well and quite complex."}, {"Time_Start": 1604.0, "Time_End": 1608.0, "Text": " So basically the five steps is to define what you're going to accept,"}, {"Time_Start": 1608.0, "Time_End": 1613.0, "Text": " define the security association, define ICPC policy,"}, {"Time_Start": 1613.0, "Time_End": 1615.0, "Text": " go ahead, define the transform sets."}, {"Time_Start": 1615.0, "Time_End": 1620.0, "Text": " transfer sets, it's up to you to use tunnel or transport mode, but if you guys are running some"}, {"Time_Start": 1620.0, "Time_End": 1628.0, "Text": " W2K boxes and want to use the IPSEC version that's coming with Wyn2K to manage your router,"}, {"Time_Start": 1628.0, "Time_End": 1630.0, "Text": " you better go with transport mode."}, {"Time_Start": 1630.0, "Time_End": 1635.0, "Text": " So you put that all together in a nice cryptomap and you affect it on the interface,"}, {"Time_Start": 1635.0, "Time_End": 1638.0, "Text": " you want to use as the management interface, and here you go."}, {"Time_Start": 1638.0, "Time_End": 1644.0, "Text": " So SSH is much more easy to set up than IPSEC, but it's working too if you prefer IPSEC."}, {"Time_Start": 1644.0, "Time_End": 1649.0, "Text": " So, going back to the router itself, you can define two types of things."}, {"Time_Start": 1649.0, "Time_End": 1651.0, "Text": " You can have local users on the router,"}, {"Time_Start": 1651.0, "Time_End": 1656.0, "Text": " or you can have remote users like with a central authentication mechanism that you're going to talk about."}, {"Time_Start": 1656.0, "Time_End": 1659.0, "Text": " Basically, if you define some local users on the routers,"}, {"Time_Start": 1659.0, "Time_End": 1662.0, "Text": " it's using Cisco encryption type 7, which is reversible."}, {"Time_Start": 1662.0, "Time_End": 1665.0, "Text": " It's just not encrypted, it's just encoded."}, {"Time_Start": 1665.0, "Time_End": 1671.0, "Text": " The enabled password you're going to use to go from the normal user mode to the super user mode"}, {"Time_Start": 1671.0, "Time_End": 1673.0, "Text": " is using MDUser."}, {"Time_Start": 1673.0, "Time_End": 1678.0, "Text": " using MD5 so it's not so easy to reverse or to find out."}, {"Time_Start": 1678.0, "Time_End": 1682.0, "Text": " So basically what you have to define is the local users give a password to the box"}, {"Time_Start": 1682.0, "Time_End": 1685.0, "Text": " and also define what kind of access you're going to give"}, {"Time_Start": 1685.0, "Time_End": 1689.0, "Text": " if you want to use IPSEC or going to stay with Telnet or SSH."}, {"Time_Start": 1689.0, "Time_End": 1695.0, "Text": " So this is an example on the table below where you define the virtual terminals"}, {"Time_Start": 1695.0, "Time_End": 1699.0, "Text": " and you say we're going to accept SSH as incoming"}, {"Time_Start": 1699.0, "Time_End": 1702.98, "Text": " and nobody can use the device itself to connect to one"}, {"Time_Start": 1703.0, "Time_End": 1706.0, "Text": " device, that is the transport output none."}, {"Time_Start": 1706.0, "Time_End": 1713.0, "Text": " That means in that example that the water cannot be used as a stepping stone to another device."}, {"Time_Start": 1713.0, "Time_End": 1716.0, "Text": " So if you don't want to go for local users on the device,"}, {"Time_Start": 1716.0, "Time_End": 1719.0, "Text": " you can go for some triple A mechanism."}, {"Time_Start": 1719.0, "Time_End": 1722.0, "Text": " The two that are supported by CSCAR radius and tackax."}, {"Time_Start": 1722.0, "Time_End": 1727.0, "Text": " Basically what is recommended is tackax because radius is not that well supported"}, {"Time_Start": 1727.0, "Time_End": 1730.0, "Text": " and there is some limitation that you're going to quickly discuss."}, {"Time_Start": 1730.0, "Time_End": 1733.0, "Text": " So you have an example we have to define"}, {"Time_Start": 1733.0, "Time_End": 1738.0, "Text": " the router to use the TACX servers and with the TACX key"}, {"Time_Start": 1738.0, "Time_End": 1743.0, "Text": " and always use, as you can see, the LOOVBG-ZO to send information out."}, {"Time_Start": 1743.0, "Time_End": 1746.0, "Text": " What you can do, which is nice, when you use TACX,"}, {"Time_Start": 1746.0, "Time_End": 1747.0, "Text": " is go for common accounting."}, {"Time_Start": 1747.0, "Time_End": 1749.0, "Text": " That means that when some of your users,"}, {"Time_Start": 1749.0, "Time_End": 1752.0, "Text": " network administrators and so on, connect to the device,"}, {"Time_Start": 1752.0, "Time_End": 1755.0, "Text": " it's going to log locally all the accounting information."}, {"Time_Start": 1755.0, "Time_End": 1759.0, "Text": " That means Ivey types show IP, BGP, NAP, blah, blah, blah and so on."}, {"Time_Start": 1759.0, "Time_End": 1761.0, "Text": " He's going to log that in the central log."}, {"Time_Start": 1761.0, "Time_End": 1762.0, "Text": " So you can go after that and see what has been done before."}, {"Time_Start": 1762.0, "Time_End": 1766.0, "Text": " what has been done before, crash, meltdown, or this kind of things."}, {"Time_Start": 1766.0, "Time_End": 1771.0, "Text": " All this user can be given authorization and privilege levels."}, {"Time_Start": 1771.0, "Time_End": 1774.0, "Text": " By default, you have, in fact you have 16 levels."}, {"Time_Start": 1774.0, "Time_End": 1776.0, "Text": " The default level when you connect as a user is level one."}, {"Time_Start": 1776.0, "Time_End": 1779.0, "Text": " This is kind of view only privilege."}, {"Time_Start": 1779.0, "Time_End": 1783.0, "Text": " And when you change, when you type enable and go to enable mode,"}, {"Time_Start": 1783.0, "Time_End": 1786.0, "Text": " which is called the privilege exact enable,"}, {"Time_Start": 1786.0, "Time_End": 1789.0, "Text": " you get to level 15 where you can just do anything."}, {"Time_Start": 1789.0, "Time_End": 1791.0, "Text": " It's like being root, so to say, on the device."}, {"Time_Start": 1791.0, "Time_End": 1795.0, "Text": " device. The bad thing is that you can not do that on switches."}, {"Time_Start": 1795.0, "Time_End": 1799.0, "Text": " On switches, you just have the two levels which are 1 and 15."}, {"Time_Start": 1799.0, "Time_End": 1803.0, "Text": " On routers, you can go ahead and say, okay, I want to use another level"}, {"Time_Start": 1803.0, "Time_End": 1807.0, "Text": " in between 1 and 15, for example, level 3 and just give"}, {"Time_Start": 1807.0, "Time_End": 1812.0, "Text": " some commands to that user that you can use. It's like being like a kind of"}, {"Time_Start": 1812.0, "Time_End": 1816.0, "Text": " as you do kind of thing on the Cisco device."}, {"Time_Start": 1816.0, "Time_End": 1821.0, "Text": " So from that example, in the table, you can also see that some basic commands that"}, {"Time_Start": 1821.0, "Time_End": 1825.0, "Text": " are usually available in level 1, like Connect, Telnet, SSH,"}, {"Time_Start": 1825.0, "Time_End": 1827.0, "Text": " that make it possible for the guy,"}, {"Time_Start": 1827.0, "Time_End": 1831.0, "Text": " if you don't remove transport output to use the router as a stepping stone,"}, {"Time_Start": 1831.0, "Time_End": 1836.0, "Text": " will remove these commands when it connects basically to the device."}, {"Time_Start": 1836.0, "Time_End": 1838.0, "Text": " So, and as I said before, command authorization,"}, {"Time_Start": 1838.0, "Time_End": 1842.0, "Text": " that means asking the central AAA server for each command type"}, {"Time_Start": 1842.0, "Time_End": 1844.0, "Text": " if the user has the right is only working with TACX."}, {"Time_Start": 1844.0, "Time_End": 1847.0, "Text": " That means you can use a basic radius server and do,"}, {"Time_Start": 1847.0, "Time_End": 1850.0, "Text": " okay, if that user has this right, you can use that comment."}, {"Time_Start": 1850.0, "Time_End": 1851.0, "Text": " This is not working."}, {"Time_Start": 1851.0, "Time_End": 1859.0, "Text": " So what you can also use, and some guys, like we used to do it too, in the past, was to go for"}, {"Time_Start": 1859.0, "Time_End": 1862.0, "Text": " Kerbrose."}, {"Time_Start": 1862.0, "Time_End": 1866.0, "Text": " Since, you know, Kerbrose has been around like 20 years already,"}, {"Time_Start": 1866.0, "Time_End": 1871.0, "Text": " and since Microsoft is using it in Win2K in the core system for a lot of things,"}, {"Time_Start": 1871.0, "Time_End": 1876.0, "Text": " some guys just went there, tried it and see what they can do."}, {"Time_Start": 1876.0, "Time_End": 1880.98, "Text": " Most of the Cisco Road to support Kerberized Telnet and the password authentication using"}, {"Time_Start": 1881.0, "Time_End": 1888.0, "Text": " Carbores exchanges. What is cool is that in Carbores, you have this kind of name for an instance."}, {"Time_Start": 1888.0, "Time_End": 1893.0, "Text": " You can basically map an instance to a group, like a group of users."}, {"Time_Start": 1893.0, "Time_End": 1896.0, "Text": " And this group of users can be given a kind of privilege level."}, {"Time_Start": 1896.0, "Time_End": 1900.0, "Text": " So you can say you have the network admin, the network operators, the super admin,"}, {"Time_Start": 1900.0, "Time_End": 1904.0, "Text": " these kind of things, they can use the Cabros instance to do that."}, {"Time_Start": 1904.0, "Time_End": 1909.0, "Text": " Bad side of the things is that Kerbores is not supported on the low-end and high-end devices,"}, {"Time_Start": 1909.0, "Time_End": 1910.0, "Text": " only male range."}, {"Time_Start": 1910.0, "Time_End": 1917.0, "Text": " On the Cisco switches, it only works with Telnet, not with a Sage, up to now."}, {"Time_Start": 1917.0, "Time_End": 1923.0, "Text": " So two basic examples of how the Convigio, Cabarras, to do this instance mapping,"}, {"Time_Start": 1923.0, "Time_End": 1928.0, "Text": " and use the Cabo server with the Carbores well."}, {"Time_Start": 1928.0, "Time_End": 1935.0, "Text": " So, ACLs are basically access consent list that can be used to filter traffic that's"}, {"Time_Start": 1935.0, "Time_End": 1939.0, "Text": " going into the water, coming out of the router, going over the order,"}, {"Time_Start": 1939.0, "Time_End": 1942.0, "Text": " all the order that means traffic is being forwarded."}, {"Time_Start": 1942.0, "Time_End": 1947.0, "Text": " The bad side of ACL is that on the Cisco device, if you don't use the firewall feature set,"}, {"Time_Start": 1947.0, "Time_End": 1951.0, "Text": " it's not stateful and it doesn't do any reassembly."}, {"Time_Start": 1951.0, "Time_End": 1956.0, "Text": " So, you know, if you guys are using NMAP and you can port scan by using, you know,"}, {"Time_Start": 1956.0, "Time_End": 1961.0, "Text": " the right FTP data port and the scan the whole internet network when the guys are using"}, {"Time_Start": 1961.0, "Time_End": 1964.0, "Text": " allowing incoming FTP or outgoing FTP."}, {"Time_Start": 1964.0, "Time_End": 1968.98, "Text": " Log input is a keyword that you can use that we'll also load the source interface and the source Mac"}, {"Time_Start": 1969.0, "Time_End": 1972.0, "Text": " address when a packet is dropped."}, {"Time_Start": 1972.0, "Time_End": 1974.0, "Text": " And don't forget that since it doesn't do any reassembly,"}, {"Time_Start": 1974.0, "Time_End": 1977.0, "Text": " that most of the time only the first fragment is filtered."}, {"Time_Start": 1977.0, "Time_End": 1982.0, "Text": " So next to that, I have the different type of SEO types."}, {"Time_Start": 1982.0, "Time_End": 1987.0, "Text": " The standard one that nobody uses basically source IP address only kind of ACL,"}, {"Time_Start": 1987.0, "Time_End": 1992.0, "Text": " the standard supports IP address, source destination, protocol type, ports,"}, {"Time_Start": 1992.0, "Time_End": 1994.0, "Text": " and also the established keyword."}, {"Time_Start": 1994.0, "Time_End": 1998.0, "Text": " But since it doesn't do anything stateful, if you use the keyword established,"}, {"Time_Start": 1998.0, "Time_End": 1999.0, "Text": " it's only going to check."}, {"Time_Start": 1999.0, "Time_End": 2002.0, "Text": " if the act or else T-bit is set."}, {"Time_Start": 2002.0, "Time_End": 2004.0, "Text": " This is the only thing that is checked."}, {"Time_Start": 2004.0, "Time_End": 2009.0, "Text": " It doesn't have any table, the database is going to look up to see if the thing is allowed."}, {"Time_Start": 2009.0, "Time_End": 2015.0, "Text": " So the other kind of ACLs are the turbo ACLs that use a hash table."}, {"Time_Start": 2015.0, "Time_End": 2020.0, "Text": " This is not bad because usually what happens is that for every entry in the ICAL list,"}, {"Time_Start": 2020.0, "Time_End": 2022.0, "Text": " the route of each packet is going to process it."}, {"Time_Start": 2022.0, "Time_End": 2028.0, "Text": " And if you have a lot of traffic on your network or huge ACLs, the router is going to die quite quickly."}, {"Time_Start": 2028.0, "Time_End": 2035.0, "Text": " quite quickly. In the 72 series and up, you can use Turbo ACLs. Basically, it will take"}, {"Time_Start": 2035.0, "Time_End": 2042.0, "Text": " all the ACEs, put them together in a hash table, and you have a constant lookup rate of 5,"}, {"Time_Start": 2042.0, "Time_End": 2046.0, "Text": " so to say, cycles, per packet, and even if you use 1,000 entries."}, {"Time_Start": 2046.0, "Time_End": 2053.0, "Text": " The other one are not that used, I'm not going to go over it. It's just more or less for information."}, {"Time_Start": 2053.0, "Time_End": 2058.0, "Text": " So this is basically an example, or how to use LCL in a route, so you define,"}, {"Time_Start": 2058.0, "Time_End": 2065.0, "Text": " the access list and by default to say, well, I deny everything and only accept some kind of the things."}, {"Time_Start": 2065.0, "Time_End": 2072.0, "Text": " We have seen that some iOS releases, if you don't put the port range, that means the 1-67735,"}, {"Time_Start": 2072.0, "Time_End": 2076.0, "Text": " it's going to log the packet, but not the source port, not the destination port."}, {"Time_Start": 2076.0, "Time_End": 2080.0, "Text": " It's quite strange, but we don't know why at the moment."}, {"Time_Start": 2080.0, "Time_End": 2087.0, "Text": " So ACA on the switch can be used too, but not recommended, and you're going to hit a lot of problems."}, {"Time_Start": 2087.0, "Time_End": 2094.0, "Text": " of problems if you start to play with LCLs on a multi-layer switch or if your MSFC is going"}, {"Time_Start": 2094.0, "Time_End": 2098.0, "Text": " to be hit by all the packets to drop in this kind of things, but it can be done."}, {"Time_Start": 2098.0, "Time_End": 2102.0, "Text": " So, water integrity checking, we are heading towards the end."}, {"Time_Start": 2102.0, "Time_End": 2110.0, "Text": " So basically, some two years back, we were trying to find a way to do some integrity checking of our configuration."}, {"Time_Start": 2110.0, "Time_End": 2116.0, "Text": " Recently, like one year ago, three-prior, the guys that are doing the three-pires,"}, {"Time_Start": 2116.0, "Time_End": 2121.0, "Text": " file integrated checking system came up with triple like for iOS."}, {"Time_Start": 2121.0, "Time_End": 2125.0, "Text": " And basically you can do that for free with some two, three tools."}, {"Time_Start": 2125.0, "Time_End": 2129.0, "Text": " So what we are doing is we are storing the configuration in a central CVS"}, {"Time_Start": 2129.0, "Time_End": 2136.0, "Text": " or any kind of central system to store files and keeping up with the regions."}, {"Time_Start": 2136.0, "Time_End": 2142.0, "Text": " So what you have to do is to use something like CVS and then find a way to get the configuration from the device."}, {"Time_Start": 2142.0, "Time_End": 2145.0, "Text": " You can be, you can use a crypto telnet, you can use SSH."}, {"Time_Start": 2145.0, "Time_End": 2151.0, "Text": " SAGE. What you can do also, but to either not recommend it, is use SNMP. The only thing is,"}, {"Time_Start": 2151.0, "Time_End": 2156.0, "Text": " if you want to use SNMP to tell the box to upload the configuration to the central system,"}, {"Time_Start": 2156.0, "Time_End": 2160.0, "Text": " you will have to use a re-dry community, which is basically bad."}, {"Time_Start": 2160.0, "Time_End": 2164.0, "Text": " Once you have done that, you need to check the configuration. You can do that automatically,"}, {"Time_Start": 2164.0, "Time_End": 2168.0, "Text": " like every night using a Chrome or ad job, or by watching the log files."}, {"Time_Start": 2168.0, "Time_End": 2172.0, "Text": " Every time somebody changes the configuration of the router, you will see in your log files,"}, {"Time_Start": 2172.0, "Time_End": 2174.0, "Text": " this device has been configured."}, {"Time_Start": 2174.0, "Time_End": 2179.0, "Text": " has been configured by name of the guy or when you see a router boat or these kind of things."}, {"Time_Start": 2179.0, "Time_End": 2183.0, "Text": " So there are a lot of events that you can use to do the checking."}, {"Time_Start": 2183.0, "Time_End": 2190.0, "Text": " And then one that is done, well just give the configuration you received with the one that is stored in your CVS, for example."}, {"Time_Start": 2190.0, "Time_End": 2195.0, "Text": " There are a lot of limitations, as usual, with any triple kind of system."}, {"Time_Start": 2195.0, "Time_End": 2199.0, "Text": " You have to trust the running system on the box like iOS or CatOS."}, {"Time_Start": 2199.0, "Time_End": 2203.0, "Text": " You are just saying that there's no Cisco root kit yet, but that's going to happen."}, {"Time_Start": 2203.0, "Time_End": 2204.0, "Text": " We're going to talk a little bit about."}, {"Time_Start": 2204.0, "Time_End": 2208.0, "Text": " a bit later on and you have to trust the network and this kind of things."}, {"Time_Start": 2208.0, "Time_End": 2211.0, "Text": " And never forget that you have two files running on the system."}, {"Time_Start": 2211.0, "Time_End": 2215.0, "Text": " One is the start-up configuration file and one is the running configuration file."}, {"Time_Start": 2215.0, "Time_End": 2218.0, "Text": " Usually they should be the same."}, {"Time_Start": 2218.0, "Time_End": 2223.0, "Text": " So, we're trying to get checking like two years ago when we first started to discuss"}, {"Time_Start": 2223.0, "Time_End": 2227.0, "Text": " if it's possible to do kind of route kit, root kit for iOS."}, {"Time_Start": 2227.0, "Time_End": 2229.0, "Text": " We were just saying, is it possible?"}, {"Time_Start": 2229.0, "Time_End": 2233.0, "Text": " And we started to list the different points that would say, yes, it is, no, it is."}, {"Time_Start": 2233.0, "Time_End": 2235.0, "Text": " it is, no, it's not."}, {"Time_Start": 2235.0, "Time_End": 2237.0, "Text": " And if you guys have attended blackout yesterday,"}, {"Time_Start": 2237.0, "Time_End": 2240.0, "Text": " well, FX came up with some nice end sign,"}, {"Time_Start": 2240.0, "Time_End": 2243.0, "Text": " no, we're going to tend to say, yes, it's really possible to do it."}, {"Time_Start": 2243.0, "Time_End": 2247.0, "Text": " Basically, iOS is a close to OS running on MIPS"}, {"Time_Start": 2247.0, "Time_End": 2250.0, "Text": " for the newest models or Motorola 168K."}, {"Time_Start": 2250.0, "Time_End": 2253.0, "Text": " It's closed source, it's just a fork from a kind of PSD Unix."}, {"Time_Start": 2253.0, "Time_End": 2257.0, "Text": " It has been affected by most of the bugs that affected"}, {"Time_Start": 2257.0, "Time_End": 2261.0, "Text": " other unique systems like the Zidli Berg, SNP bugs and so on."}, {"Time_Start": 2261.0, "Time_End": 2267.0, "Text": " What you can do is you can try to debug the device using remote GDP access"}, {"Time_Start": 2267.0, "Time_End": 2271.0, "Text": " or locally by running a GDP on the device itself."}, {"Time_Start": 2271.0, "Time_End": 2275.0, "Text": " While you're working on that, I was just looking at the book by Cisco,"}, {"Time_Start": 2275.0, "Time_End": 2278.0, "Text": " which is called Inside Cisco IOS software architecture."}, {"Time_Start": 2278.0, "Time_End": 2280.0, "Text": " And what they are saying, they are saying that at a kernel level,"}, {"Time_Start": 2280.0, "Time_End": 2283.0, "Text": " everything is running at the same privilege."}, {"Time_Start": 2283.0, "Time_End": 2286.0, "Text": " That means your PGP process, your shell,"}, {"Time_Start": 2286.0, "Time_End": 2288.0, "Text": " everything is running at the same level."}, {"Time_Start": 2288.0, "Time_End": 2290.0, "Text": " So if you can find any hole, in any process running on the device, you can"}, {"Time_Start": 2290.0, "Time_End": 2294.0, "Text": " running on the device, you can own the whole device."}, {"Time_Start": 2294.0, "Time_End": 2298.0, "Text": " And there are not a lot of things to check if everything is doing fine."}, {"Time_Start": 2298.0, "Time_End": 2302.0, "Text": " Basically, they're just emphasis on making sure that the router is going to forward packets"}, {"Time_Start": 2302.0, "Time_End": 2306.0, "Text": " as much as fast as possible, not that the device is going to survive"}, {"Time_Start": 2306.0, "Time_End": 2308.0, "Text": " any failure of a process."}, {"Time_Start": 2308.0, "Time_End": 2310.0, "Text": " And usually what happens when the process dies in the box,"}, {"Time_Start": 2310.0, "Time_End": 2314.0, "Text": " the rotor does a force to reboot anyway."}, {"Time_Start": 2314.0, "Time_End": 2319.0, "Text": " So, open questions about that."}, {"Time_Start": 2319.0, "Time_End": 2325.0, "Text": " about that, this may have been changed, I have not updated it since yesterday, so tell me if you see some wrong things."}, {"Time_Start": 2325.0, "Time_End": 2329.0, "Text": " So what do you have, you don't have any local, so say, tools to play"}, {"Time_Start": 2329.0, "Time_End": 2331.0, "Text": " and with the device itself."}, {"Time_Start": 2331.0, "Time_End": 2333.0, "Text": " It's not like a Unix or Microsoft system."}, {"Time_Start": 2333.0, "Time_End": 2337.0, "Text": " If you are missing the tool, you just upload the tool to the device and you start to play with."}, {"Time_Start": 2337.0, "Time_End": 2343.0, "Text": " This is not so easy since it's running a monotic kernel that you cannot change easily."}, {"Time_Start": 2343.0, "Time_End": 2347.0, "Text": " On the switches, you have an enabled engineer mode that you can go to."}, {"Time_Start": 2347.0, "Time_End": 2349.0, "Text": " You have some public documents and that."}, {"Time_Start": 2349.0, "Time_End": 2354.0, "Text": " the internet where you can really play with the switch itself, but since you're lacking most of the"}, {"Time_Start": 2354.0, "Time_End": 2360.0, "Text": " of the confluation files, documents describing how it's working, it's not easy to understand"}, {"Time_Start": 2360.0, "Time_End": 2362.0, "Text": " what's going on."}, {"Time_Start": 2362.0, "Time_End": 2368.0, "Text": " What we've been thinking of is if there is any way to upload a modified iOS image to the box."}, {"Time_Start": 2368.0, "Time_End": 2374.0, "Text": " First of all, to change it, and then secondly, is it really possible to go there and say,"}, {"Time_Start": 2374.0, "Time_End": 2376.0, "Text": " okay, can we do that state for it?"}, {"Time_Start": 2376.0, "Time_End": 2378.0, "Text": " That means upload a new iOS, run it and kill it."}, {"Time_Start": 2378.0, "Time_End": 2382.0, "Text": " and kill the old ones without having the rotor reboot."}, {"Time_Start": 2382.0, "Time_End": 2389.0, "Text": " It may be possible if you use dual root processors, like on the broadband concentrators,"}, {"Time_Start": 2389.0, "Time_End": 2394.0, "Text": " or if you just go there and try to upgrade line cards on the large GERS sounds, for example."}, {"Time_Start": 2394.0, "Time_End": 2398.0, "Text": " There are a lot of images out there you would have to patch."}, {"Time_Start": 2398.0, "Time_End": 2404.0, "Text": " Basically, Cisco has 2,500 images out there in the field and 37 feature sets."}, {"Time_Start": 2404.0, "Time_End": 2407.0, "Text": " But if you would focus on NISP, you would just have to patch."}, {"Time_Start": 2407.0, "Time_End": 2414.0, "Text": " ISP, you just go there and try to modify one of the service provider release train."}, {"Time_Start": 2414.0, "Time_End": 2420.0, "Text": " One half years back, Cisco was working on iOS next generation that would have"}, {"Time_Start": 2420.0, "Time_End": 2424.0, "Text": " had support for loadable modules."}, {"Time_Start": 2424.0, "Time_End": 2430.0, "Text": " That would make, not to say our life, but would make the life of the attacker much more easy,"}, {"Time_Start": 2430.0, "Time_End": 2436.0, "Text": " but we haven't seen anything lately on that, so we don't even know if Cisco is still working on it."}, {"Time_Start": 2436.0, "Time_End": 2441.0, "Text": " Okay, so last slide, talking a little bit about forensics."}, {"Time_Start": 2441.0, "Time_End": 2447.0, "Text": " Basically, like I said, a router is a hardware box running an operating system."}, {"Time_Start": 2447.0, "Time_End": 2452.0, "Text": " So when you have to do some forensics, I'm not going to talk about chain of custody, evidence documents,"}, {"Time_Start": 2452.0, "Time_End": 2456.0, "Text": " these kind of things, just give you some hints about where you should have a look at."}, {"Time_Start": 2456.0, "Time_End": 2461.0, "Text": " So basically, at the top left side, it's all the things you're going to export."}, {"Time_Start": 2461.0, "Time_End": 2465.0, "Text": " You should always make sure that you export the things to your CISLog server."}, {"Time_Start": 2465.0, "Time_End": 2465.5, "Text": " So you will have all of the things to your CISLog server."}, {"Time_Start": 2465.5, "Time_End": 2468.5, "Text": " have all the packets that are dropped by ACLs,"}, {"Time_Start": 2468.5, "Time_End": 2473.5, "Text": " by Unicast RPF filtering, the system information is when the interface is going to flap,"}, {"Time_Start": 2473.5, "Time_End": 2477.5, "Text": " if you'll BGP session is going to flap, configuration change and so on."}, {"Time_Start": 2477.5, "Time_End": 2482.5, "Text": " You will also, if you use SNMP, but that's going to depend if you really need to upload,"}, {"Time_Start": 2482.5, "Time_End": 2486.5, "Text": " so to say upload or activate traps, you will get SNMP traps."}, {"Time_Start": 2486.5, "Time_End": 2491.5, "Text": " If you guys don't use local users on the system but go for a triple A solution,"}, {"Time_Start": 2491.5, "Time_End": 2494.5, "Text": " you will have all the triple A logs showing when the guys logged in what they did and see."}, {"Time_Start": 2494.5, "Time_End": 2496.5, "Text": " what they did and so on."}, {"Time_Start": 2496.5, "Time_End": 2498.5, "Text": " And also what's going to happen if you activate it on the road,"}, {"Time_Start": 2498.5, "Time_End": 2501.5, "Text": " and when the water crashes, you can have it upload automatically"}, {"Time_Start": 2501.5, "Time_End": 2507.5, "Text": " through FTP, I think, code-themes of the image and in the memory"}, {"Time_Start": 2507.5, "Time_End": 2509.5, "Text": " to see what was going wrong."}, {"Time_Start": 2509.5, "Time_End": 2512.5, "Text": " What you're also going to have is all the net flow accounting data."}, {"Time_Start": 2512.5, "Time_End": 2515.5, "Text": " Netflow is basically a protocol that's going to count all the traffic that's going to"}, {"Time_Start": 2515.5, "Time_End": 2519.5, "Text": " count all the traffic that's flowing out the route and log it centrally"}, {"Time_Start": 2519.5, "Time_End": 2521.5, "Text": " to help you analyze your traffic flow."}, {"Time_Start": 2521.5, "Time_End": 2523.5, "Text": " It's usually used to do traffic engineering."}, {"Time_Start": 2523.5, "Time_End": 2528.5, "Text": " And what we would recommend too is to make sure that you get somewhere on some other"}, {"Time_Start": 2528.5, "Time_End": 2531.5, "Text": " roles as copies of the routing protocol information."}, {"Time_Start": 2531.5, "Time_End": 2533.5, "Text": " Routing protocol information changed quite quickly."}, {"Time_Start": 2533.5, "Time_End": 2537.5, "Text": " And what you could do is run a dedicated device that's just going to be a BGPP,"}, {"Time_Start": 2537.5, "Time_End": 2540.5, "Text": " an OSPF neighbor, for example."}, {"Time_Start": 2540.5, "Time_End": 2544.5, "Text": " And from there, for example, Zebra on a Linux box or GIDIL,"}, {"Time_Start": 2544.5, "Time_End": 2550.5, "Text": " stored all the information at least for some minutes to see what happened just before the network was down"}, {"Time_Start": 2550.5, "Time_End": 2552.5, "Text": " or somebody got into a router."}, {"Time_Start": 2552.5, "Time_End": 2562.5, "Text": " What you need on the left-hand side is, well, if somebody is going to put the rotor over DHCP or BootB,"}, {"Time_Start": 2562.5, "Time_End": 2567.5, "Text": " you could, it could just go there and make the device reboot and get the configuration"}, {"Time_Start": 2567.5, "Time_End": 2570.5, "Text": " and the iOS image from a remote location."}, {"Time_Start": 2570.5, "Time_End": 2575.5, "Text": " That means that even if you have the iOS locally on the flash card,"}, {"Time_Start": 2575.5, "Time_End": 2580.5, "Text": " you could just put the device and have it download the configuration from a remote side."}, {"Time_Start": 2580.5, "Time_End": 2581.5, "Text": " So just make sure that this is..."}, {"Time_Start": 2581.5, "Time_End": 2585.5, "Text": " make sure that this is not feasible and watch it somewhere."}, {"Time_Start": 2585.5, "Time_End": 2589.5, "Text": " So clock securalsization is always quite important as usual."}, {"Time_Start": 2589.5, "Time_End": 2595.5, "Text": " On the left-hand side, you should forget that you have basically two things running on most of the device,"}, {"Time_Start": 2595.5, "Time_End": 2600.5, "Text": " that is RAM, which is volatile, and flash that is basically non-volatile."}, {"Time_Start": 2600.5, "Time_End": 2603.5, "Text": " So what you have on the flash card usually is the iOS release,"}, {"Time_Start": 2603.5, "Time_End": 2606.5, "Text": " that can be the one that runs in memory or a new one,"}, {"Time_Start": 2606.5, "Time_End": 2609.5, "Text": " and also the two configuration files."}, {"Time_Start": 2609.5, "Time_End": 2611.5, "Text": " What is stored in DRAM,"}, {"Time_Start": 2611.5, "Time_End": 2617.5, "Text": " D-RAM depending on the hardware is the running iOS, all the processes, the routing information,"}, {"Time_Start": 2617.5, "Time_End": 2620.5, "Text": " all the debugging logs, the history logs, and so on."}, {"Time_Start": 2620.5, "Time_End": 2624.5, "Text": " So don't forget that basically what you see is that when somebody does forensics,"}, {"Time_Start": 2624.5, "Time_End": 2627.5, "Text": " you just unpugs the cable, boot the device and see what's going on afterwards."}, {"Time_Start": 2627.5, "Time_End": 2631.5, "Text": " If you do that with a router, you lose more or less everything."}, {"Time_Start": 2631.5, "Time_End": 2633.5, "Text": " So don't forget that."}, {"Time_Start": 2633.5, "Time_End": 2637.5, "Text": " So what is important I said is first of all with a router."}, {"Time_Start": 2637.5, "Time_End": 2640.5, "Text": " If you cannot get into anymore because the guy changed the password,"}, {"Time_Start": 2640.5, "Time_End": 2647.5, "Text": " is check your remote logs and accounting data to see if some strange activities were going on just before."}, {"Time_Start": 2647.5, "Time_End": 2651.5, "Text": " There's also a nice tool that allows you to read the flashcards"}, {"Time_Start": 2651.5, "Time_End": 2655.5, "Text": " formated in Cisco formats, which is available at that address."}, {"Time_Start": 2655.5, "Time_End": 2659.5, "Text": " You can use it in the PCAMC laptop."}, {"Time_Start": 2659.5, "Time_End": 2664.5, "Text": " So always make sure that you think before you reboot if you have done everything that"}, {"Time_Start": 2664.5, "Time_End": 2668.5, "Text": " check all the local birth, local logs, local information."}, {"Time_Start": 2668.5, "Time_End": 2669.5, "Text": " I have some comments on the bottom."}, {"Time_Start": 2669.5, "Time_End": 2672.2, "Text": " on the bottom to what should have a look at."}, {"Time_Start": 2672.2, "Time_End": 2676.0, "Text": " And don't forget that if you try to connect our Telnet SSH to the box,"}, {"Time_Start": 2676.0, "Time_End": 2678.0, "Text": " you're going to make sure that the guy is going to see it."}, {"Time_Start": 2678.0, "Time_End": 2681.0, "Text": " So the best thing, if you can have a local physical access to device,"}, {"Time_Start": 2681.0, "Time_End": 2682.5, "Text": " is go over the console port."}, {"Time_Start": 2682.5, "Time_End": 2683.5, "Text": " That's the basic thing."}, {"Time_Start": 2683.5, "Time_End": 2688.5, "Text": " Also, what you can do, especially if the guy managed to block the road"}, {"Time_Start": 2688.5, "Time_End": 2691.5, "Text": " so that you cannot get into it anymore,"}, {"Time_Start": 2691.5, "Time_End": 2693.5, "Text": " a changing username, passwords and so on,"}, {"Time_Start": 2693.5, "Time_End": 2696.5, "Text": " if you have switches running around the road,"}, {"Time_Start": 2696.5, "Time_End": 2699.0, "Text": " or not, if you don't have a, like, one,"}, {"Time_Start": 2699.0, "Time_End": 2705.0, "Text": " one based point-to-point connection is go there and put the switch in mirror mode and"}, {"Time_Start": 2705.0, "Time_End": 2711.0, "Text": " span and span mode and mirror all the traffic that's going into and leaving the order to see if"}, {"Time_Start": 2711.0, "Time_End": 2715.0, "Text": " you can find some evidence on who is connected to it and who's playing with it."}, {"Time_Start": 2715.0, "Time_End": 2719.0, "Text": " So basically I have some local comments that you can type if you can get to the box."}, {"Time_Start": 2719.0, "Time_End": 2723.0, "Text": " You have to have a look at the app, PCash, CDP neighbor information,"}, {"Time_Start": 2723.0, "Time_End": 2728.0, "Text": " Cisco Express providing information, the net flow accounting data, the logs, the"}, {"Time_Start": 2728.0, "Time_End": 2731.0, "Text": " debug, active TCP sessions, interface status,"}, {"Time_Start": 2731.0, "Time_End": 2734.0, "Text": " and you can also have most of that by doing a show tech support,"}, {"Time_Start": 2734.0, "Time_End": 2736.0, "Text": " but don't forget that if you do that,"}, {"Time_Start": 2736.0, "Time_End": 2741.0, "Text": " you won't have all the communities and passwords in the configuration you're going to save."}, {"Time_Start": 2741.0, "Time_End": 2744.0, "Text": " So, that basically was it."}, {"Time_Start": 2744.0, "Time_End": 2750.0, "Text": " We're going to put the presentation online in the next few days at the address."}, {"Time_Start": 2750.0, "Time_End": 2753.0, "Text": " You will be able to grab the one from Black Hat"}, {"Time_Start": 2753.0, "Time_End": 2756.0, "Text": " that has all the information about NetFlow,"}, {"Time_Start": 2756.0, "Time_End": 2758.0, "Text": " DDoS detection,"}, {"Time_Start": 2758.0, "Time_End": 2760.0, "Text": " BGP attacks at the same address."}, {"Time_Start": 2760.0, "Time_End": 2763.0, "Text": " So just write that one down and you should get the things from there."}, {"Time_Start": 2763.0, "Time_End": 2768.0, "Text": " If you see that it's online, in the next few days just wrote us an email"}, {"Time_Start": 2768.0, "Time_End": 2771.0, "Text": " and we're going to make sure that we put it online."}, {"Time_Start": 2771.0, "Time_End": 2773.0, "Text": " Okay."}, {"Time_Start": 2773.0, "Time_End": 2778.0, "Text": " I have to say, yeah, okay, give me a second."}, {"Time_Start": 2778.0, "Time_End": 2783.0, "Text": " So do you guys have questions about that?"}, {"Time_Start": 2783.0, "Time_End": 2784.0, "Text": " Yeah."}, {"Time_Start": 2784.0, "Time_End": 2785.0, "Text": " Yeah."}, {"Time_Start": 2785.0, "Time_End": 2786.0, "Text": " Yeah."}, {"Time_Start": 2786.0, "Time_End": 2794.0, "Text": " If you have questions, just come over to us because,"}, {"Time_Start": 2794.0, "Time_End": 2798.0, "Text": " too noise, it was the thing behind us."}, {"Time_Start": 2798.0, "Time_End": 2802.0, "Text": " I recently was trying to use secure copy functionality."}, {"Time_Start": 2802.0, "Time_End": 2808.0, "Text": " I worked in the Cisco manuals and it tells you how to get images and pick figs from the router"}, {"Time_Start": 2808.0, "Time_End": 2812.0, "Text": " to the server, but how do you do the opposite with secure copy?"}, {"Time_Start": 2812.0, "Time_End": 2814.0, "Text": " Say, I want to upgrade the router and I don't want to use TFTP."}, {"Time_Start": 2814.0, "Time_End": 2819.0, "Text": " FTP is there an equivalent way to make SCP upgrade a router?"}, {"Time_Start": 2819.0, "Time_End": 2827.0, "Text": " Okay, SCP, basically what we know and what you have seen is that you have both client and server support on the device itself."}, {"Time_Start": 2827.0, "Time_End": 2832.0, "Text": " So we have tried it and for us it's working, so maybe you just hit the bug in some iOS release."}, {"Time_Start": 2832.0, "Time_End": 2835.0, "Text": " Yeah, because I'm unfortunately, it's a fairly new device."}, {"Time_Start": 2835.0, "Time_End": 2842.0, "Text": " It's an access router and they basically don't support the, they support the client side, but not the server side."}, {"Time_Start": 2842.0, "Time_End": 2843.0, "Text": " And I wondered if you know of any work around."}, {"Time_Start": 2843.0, "Time_End": 2845.0, "Text": " know of any workarounds or am I stuck?"}, {"Time_Start": 2845.0, "Time_End": 2847.0, "Text": " No, not that we know of, sorry."}, {"Time_Start": 2847.0, "Time_End": 2849.0, "Text": " Okay, I'm stuck. Thanks."}, {"Time_Start": 2849.0, "Time_End": 2855.0, "Text": " How much of this information applies to the Cisco Picks firewalls at the same time?"}, {"Time_Start": 2855.0, "Time_End": 2857.0, "Text": " Can speak just me a lot, then..."}, {"Time_Start": 2857.0, "Time_End": 2862.0, "Text": " How much of this information you've given this applies to the Cisco Picks firewalls?"}, {"Time_Start": 2862.0, "Time_End": 2866.0, "Text": " For instance, you said that the established only checks the act bit?"}, {"Time_Start": 2866.0, "Time_End": 2867.0, "Text": " Okay."}, {"Time_Start": 2867.0, "Time_End": 2872.0, "Text": " The question is all this stateful information about this information about stateful, not being stateful."}, {"Time_Start": 2872.0, "Time_End": 2873.0, "Text": " not being stateful."}, {"Time_Start": 2873.0, "Time_End": 2879.0, "Text": " So, a Cisco road by itself, if you use a normal feature set, that is not the firewall feature"}, {"Time_Start": 2879.0, "Time_End": 2882.0, "Text": " set, won't do any stateful filtering."}, {"Time_Start": 2882.0, "Time_End": 2886.0, "Text": " But the PICS firewalls, which are really firewalls, are doing real stateful filtering."}, {"Time_Start": 2886.0, "Time_End": 2889.0, "Text": " So if you use it, it's the pitch keyboard there, it's going to work."}, {"Time_Start": 2889.0, "Time_End": 2890.0, "Text": " Thank you."}, {"Time_Start": 2890.0, "Time_End": 2895.0, "Text": " In fact, what you have to know is that Cisco is using different source tree for all the equipment,"}, {"Time_Start": 2895.0, "Time_End": 2901.0, "Text": " like the operating system for the switches, the routers and the firewall are totally different."}, {"Time_Start": 2901.0, "Time_End": 2902.0, "Text": " So they may have."}, {"Time_Start": 2902.0, "Time_End": 2906.0, "Text": " the same feature, but the way they are doing it is maybe different."}, {"Time_Start": 2906.0, "Time_End": 2910.0, "Text": " Yeah, and don't forget that. If you see the same comment written the same way,"}, {"Time_Start": 2910.0, "Time_End": 2914.0, "Text": " it doesn't mean that it's going to be behaved in the same way if it's a router,"}, {"Time_Start": 2914.0, "Time_End": 2918.0, "Text": " a switch, Ipix firewall, a content switch, a local direct, and this kind of thing."}, {"Time_Start": 2918.0, "Time_End": 2922.0, "Text": " So you better always check the release notes than the comments because this is something"}, {"Time_Start": 2922.0, "Time_End": 2925.0, "Text": " you just made to hit something that's wrong."}, {"Time_Start": 2925.0, "Time_End": 2928.0, "Text": " Some other questions?"}, {"Time_Start": 2928.0, "Time_End": 2931.0, "Text": " Okay."}, {"Time_Start": 2931.0, "Time_End": 2932.0, "Text": " Thank you guys."}, {"Time_Start": 2932.0, "Time_End": 2936.0, "Text": " Thank you."}, {"Time_Start": 2936.0, "Time_End": 2937.0, "Text": " Thank you."}]}